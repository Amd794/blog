<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>数据模型 on cmdragon's Blog</title><link>/tags/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/</link><description>Recent content in 数据模型 on cmdragon's Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Fri, 20 Jun 2025 16:21:09 +0800</lastBuildDate><atom:link href="/tags/%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/index.xml" rel="self" type="application/rss+xml"/><item><title>FastAPI日志审计：你的权限系统是否真的安全无虞？</title><link>/posts/88016f667a665d7c7fd84d0d6f46112d/</link><pubDate>Fri, 20 Jun 2025 16:21:09 +0800</pubDate><guid>/posts/88016f667a665d7c7fd84d0d6f46112d/</guid><description>FastAPI权限系统的日志审计功能通过三层架构实现，核心价值包括安全合规、故障排查、行为分析和责任追溯。基础日志中间件记录请求信息，完整日志系统包含数据模型设计、日志记录服务和权限系统整合。实际应用案例展示了管理员操作和用户登录的审计实现。常见报错如422验证错误和数据库连接池耗尽，提供了相应的解决方案。优化建议包括数据脱敏、加密存储、索引优化和异步写入。</description></item><item><title>多数据库迁移的艺术：Alembic在复杂环境中的精妙应用</title><link>/posts/3bcf24764e240d3cc8f0ef128cdf59c5/</link><pubDate>Sun, 11 May 2025 00:35:52 +0800</pubDate><guid>/posts/3bcf24764e240d3cc8f0ef128cdf59c5/</guid><description>现代Web应用中，多数据库场景包括主从架构、多租户系统、混合数据库和分库分表。Alembic支持多数据库配置，通过创建多版本目录结构和修改alembic.ini文件实现。环境脚本（env.py）需改造以支持多数据库迁移。模型定义推荐使用pydantic结合SQLAlchemy ORM。迁移操作包括生成独立脚本、执行迁移和查看历史。常见报错如未初始化版本表、缺少数据库配置和模型类未绑定元数据，均有相应解决方案。</description></item><item><title>FastAPI与Tortoise-ORM开发的神奇之旅</title><link>/posts/9e550e6fda66360891bf91c378d6f977/</link><pubDate>Mon, 05 May 2025 00:15:48 +0800</pubDate><guid>/posts/9e550e6fda66360891bf91c378d6f977/</guid><description>FastAPI与Tortoise-ORM结合实现全链路开发，涵盖环境配置、数据模型定义、Pydantic模式设计及API端点实现。文章模型包含软删除功能，通过&lt;code>is_deleted&lt;/code>字段实现逻辑删除。API支持创建、分页查询、条件更新和软删除操作，确保数据安全与完整性。分页机制通过&lt;code>offset&lt;/code>和&lt;code>limit&lt;/code>实现，条件更新使用&lt;code>exclude_unset=True&lt;/code>避免未传字段被覆盖。软删除通过&lt;code>filter().update()&lt;/code>实现原子操作。系统具备用户认证、输入验证、防注入和细粒度权限控制等安全特性。</description></item><item><title>掌握Tortoise-ORM高级异步查询技巧</title><link>/posts/8a980d4fc84da8b38dfc6da3b16a9818/</link><pubDate>Tue, 22 Apr 2025 12:05:33 +0800</pubDate><guid>/posts/8a980d4fc84da8b38dfc6da3b16a9818/</guid><description>Tortoise-ORM 提供了强大的异步查询功能，支持通过 Q 对象构建复杂查询条件，如逻辑运算符组合和动态条件构建。F 表达式用于字段级别的原子操作，避免竞争条件，适用于库存扣减和价格调整等场景。组合查询可通过注解和过滤实现复杂业务需求。常见错误包括字段不一致、未知字段和事务管理问题，需通过数据库迁移和异步上下文管理解决。</description></item><item><title>FastAPI与SQLAlchemy数据库集成</title><link>/posts/c89a99dade2879f73464405270096546/</link><pubDate>Thu, 17 Apr 2025 15:33:34 +0800</pubDate><guid>/posts/c89a99dade2879f73464405270096546/</guid><description>FastAPI与SQLAlchemy的集成通过创建虚拟环境、安装依赖、配置数据库连接、定义数据模型和实现路由来完成。核心模块包括数据库引擎、会话工厂和声明性基类。数据模型通过SQLAlchemy定义，路由通过FastAPI实现，支持创建和查询用户。测试接口通过curl命令进行，常见报错包括表不存在、请求体验证错误和会话不可用。高级配置涉及连接池优化和单元测试。</description></item><item><title>数据库与数据库管理系统概述</title><link>/posts/495759d2b2ea6ec77f578da7b4bb69b5/</link><pubDate>Sat, 07 Dec 2024 00:18:53 +0800</pubDate><guid>/posts/495759d2b2ea6ec77f578da7b4bb69b5/</guid><description>在信息化迅速发展的时代，数据已成为企业和组织的重要资产。数据库与数据库管理系统（DBMS）是高效存储、管理和利用数据的核心工具。本文首先定义了数据库的基本概念和特点，随后介绍了数据库管理系统的主要功能，并探讨了关系型与非关系型数据库之间的区别。通过理解这些基础知识，读者将为后续深入学习数据库技术和应用打下坚实的基础。</description></item></channel></rss>
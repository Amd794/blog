<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>自动生成脚本 on cmdragon's Blog</title><link>/tags/%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC/</link><description>Recent content in 自动生成脚本 on cmdragon's Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Fri, 09 May 2025 13:08:18 +0800</lastBuildDate><atom:link href="/tags/%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC/index.xml" rel="self" type="application/rss+xml"/><item><title>Alembic迁移脚本：让数据库变身时间旅行者</title><link>/posts/4cbe05929a9b90555dc214eec17131c7/</link><pubDate>Fri, 09 May 2025 13:08:18 +0800</pubDate><guid>/posts/4cbe05929a9b90555dc214eec17131c7/</guid><description>Alembic 是一个用于数据库迁移的工具，通过迁移脚本记录数据库结构的变化，确保不同环境的数据库保持同步。其核心工作原理包括模型扫描、数据库快照和差异分析三个阶段。通过 &lt;code>alembic revision --autogenerate&lt;/code> 命令，可以自动生成迁移脚本，对比模型定义与数据库实际结构的差异。高级配置技巧包括自定义上下文配置和处理复杂字段变更。常见错误如数据库版本不一致或字段类型不识别，可通过升级、回滚或添加类型映射解决。最佳实践建议包括及时生成迁移脚本、测试环境保持最新、生产环境变更前备份等。</description></item></channel></rss>
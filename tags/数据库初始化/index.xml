<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>数据库初始化 on cmdragon's Blog</title><link>/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96/</link><description>Recent content in 数据库初始化 on cmdragon's Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 30 Apr 2025 00:11:45 +0800</lastBuildDate><atom:link href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96/index.xml" rel="self" type="application/rss+xml"/><item><title>FastAPI与Tortoise-ORM模型配置及aerich迁移工具</title><link>/posts/785a04f3db818a55f0ddc27edc59d471/</link><pubDate>Wed, 30 Apr 2025 00:11:45 +0800</pubDate><guid>/posts/785a04f3db818a55f0ddc27edc59d471/</guid><description>FastAPI中使用Tortoise-ORM时，模型类通过继承&lt;code>tortoise.models.Model&lt;/code>并定义&lt;code>class Meta&lt;/code>来映射数据库字段。元数据配置包括表名、schema、表注释和联合唯一约束等。初始化数据库连接推荐使用&lt;code>lifespan&lt;/code>事件处理，配置参数包括数据库URL、模型模块路径等。aerich迁移工具用于管理数据库迁移，通过&lt;code>init-db&lt;/code>、&lt;code>migrate&lt;/code>和&lt;code>upgrade&lt;/code>等命令实现迁移文件的生成和应用。常见问题包括模型注册失败和迁移文件冲突，需检查模型路径和清除冲突文件。</description></item></channel></rss>
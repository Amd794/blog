<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>OAuth2 on cmdragon's Blog</title><link>https://blog.cmdragon.cn/tags/OAuth2/</link><description>Recent content in OAuth2 on cmdragon's Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 25 Jun 2025 09:01:42 +0800</lastBuildDate><atom:link href="https://blog.cmdragon.cn/tags/OAuth2/index.xml" rel="self" type="application/rss+xml"/><item><title>FastAPI权限校验漏洞防护，你真的做对了吗？</title><link>https://blog.cmdragon.cn/posts/e4f0dd2a60b455bdcd55a1de472d67ee/</link><pubDate>Wed, 25 Jun 2025 09:01:42 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/e4f0dd2a60b455bdcd55a1de472d67ee/</guid><description>FastAPI权限校验是保护API资源的关键，通过认证和授权机制确保用户访问权限。常见安全漏洞包括横向越权、SQL注入和XSS攻击，解决方案包括资源归属验证、参数化查询和安全头部配置。FastAPI通过依赖注入和OAuth2、JWT技术实现模块化权限控制，角色权限模型和权限校验依赖项确保路由安全。常见错误如401 Unauthorized、422 Validation Error和403 Forbidden，需检查令牌、参数验证和用户权限设置。最佳实践强调在后端实施资源归属检查和ORM参数化查询，防止越权和注入风险。</description></item><item><title>如何在FastAPI中构建一个既安全又灵活的多层级权限系统？</title><link>https://blog.cmdragon.cn/posts/ff1c8ff1d052374f064d802d37f2a206/</link><pubDate>Sat, 14 Jun 2025 12:43:05 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/ff1c8ff1d052374f064d802d37f2a206/</guid><description>FastAPI通过依赖注入系统和OAuth2、JWT等安全方案，支持构建多层级权限系统。系统设计包括基于角色的访问控制、细粒度权限验证、权限继承机制和动态权限加载。通过定义用户角色和权限模型，结合权限验证流程，实现用户权限的动态加载和校验。路由集成示例展示了如何在API端点中应用角色和权限依赖项。高级配置技巧包括动态权限加载和缓存优化。常见错误解决方案针对HTTP 401和403错误提供了排查步骤。</description></item><item><title>FastAPI如何用角色权限让Web应用安全又灵活？</title><link>https://blog.cmdragon.cn/posts/cc7aa0af577ae2bc0694e76886373e12/</link><pubDate>Fri, 13 Jun 2025 05:46:55 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/cc7aa0af577ae2bc0694e76886373e12/</guid><description>基于角色的路由访问控制是Web应用中常见的安全控制模式，通过为用户分配特定角色来管理权限。FastAPI利用依赖注入系统实现权限控制，具有解耦、模块化、兼容OpenAPI等优势。权限验证流程包括请求拦截、角色解析和权限校验三个阶段。通过定义数据模型和核心权限验证模块，可以实现企业级权限控制方案。常见报错如422、401、403等，可通过调试和错误处理机制解决。动态权限管理建议使用RBAC数据库结构，多角色用户可通过中间表实现。</description></item><item><title>FastAPI权限验证依赖项究竟藏着什么秘密？</title><link>https://blog.cmdragon.cn/posts/3e287e8b907561728ded1be34a19b22c/</link><pubDate>Thu, 12 Jun 2025 06:53:53 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/3e287e8b907561728ded1be34a19b22c/</guid><description>FastAPI通过依赖注入机制实现高效的权限验证，确保系统安全。核心组件包括OAuth2与JWT基础、用户认证模块，以及权限依赖项的创建。权限验证器通过JWT解码和用户角色检查，确保访问控制。实际应用中，管理员专用接口和多角色访问控制展示了权限验证的灵活性。最佳实践包括分层验证、HTTPS传输、密钥轮换和日志记录。常见报错如422、401和403，提供了详细的调试和预防措施。运行环境要求FastAPI、Pydantic等库，确保系统稳定运行。</description></item><item><title>如何在FastAPI中轻松实现OAuth2认证并保护你的API？</title><link>https://blog.cmdragon.cn/posts/d17e94efec06a517ca80d0da10c80997/</link><pubDate>Mon, 09 Jun 2025 05:16:05 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/d17e94efec06a517ca80d0da10c80997/</guid><description>OAuth2 是现代应用程序实现安全认证的行业标准协议，通过令牌而非直接使用用户凭证进行授权。FastAPI 提供 &lt;code>OAuth2PasswordBearer&lt;/code> 类支持密码授权模式，流程包括用户提交凭证、服务器验证、生成访问令牌及验证令牌有效性。配置安全模块需安装依赖库并创建 &lt;code>security.py&lt;/code>，包含密码哈希、验证及 JWT 令牌生成功能。用户认证通过模拟数据库实现，提供登录接口和受保护路由。安全路由保护机制依赖 &lt;code>get_current_user&lt;/code> 函数验证令牌。进阶实践包括刷新令牌、权限分级和速率限制，遵循 OWASP 安全规范。</description></item><item><title>FastAPI安全机制：从OAuth2到JWT的魔法通关秘籍</title><link>https://blog.cmdragon.cn/posts/04b73a9a5712e6b51e8c45c35f331e59/</link><pubDate>Sat, 07 Jun 2025 08:40:35 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/04b73a9a5712e6b51e8c45c35f331e59/</guid><description>FastAPI 的安全机制基于 OAuth2 规范、JWT 和依赖注入系统三大核心组件，提供了标准化的授权框架和无状态的身份验证。OAuth2 密码流通过 &lt;code>CryptContext&lt;/code> 进行密码哈希处理，&lt;code>OAuth2PasswordBearer&lt;/code> 自动提取和验证 Bearer Token，JWT 令牌包含过期时间，确保服务端无需存储会话状态。依赖注入系统通过 &lt;code>Depends()&lt;/code> 实现身份验证逻辑的解耦。典型请求流程包括 Token 验证、JWT 解码和用户验证，确保请求的合法性。</description></item><item><title>FastAPI权限迷宫：RBAC与多层级依赖的魔法通关秘籍</title><link>https://blog.cmdragon.cn/posts/ee5486714707d4835d4a774696dca30a/</link><pubDate>Wed, 04 Jun 2025 21:17:50 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/ee5486714707d4835d4a774696dca30a/</guid><description>FastAPI权限管理系统通过RBAC（基于角色的访问控制）实现用户与权限的解耦，核心要素包括用户、角色、权限和访问策略。系统使用OAuth2PasswordBearer进行认证，并通过依赖项工厂函数实现权限检查。权限依赖项支持多层级组合，允许组合多个权限检查或创建组合验证函数。常见报错包括HTTP 403 Forbidden和HTTP 401 Unauthorized，建议通过中间件和单元测试进行预防和验证。开发环境配置简单，使用FastAPI、Pydantic和Uvicorn即可快速搭建系统。</description></item><item><title>FastAPI安全认证：从密码到令牌的魔法之旅</title><link>https://blog.cmdragon.cn/posts/7d79b5a5c4a3adad15117a45d7976554/</link><pubDate>Mon, 02 Jun 2025 13:24:43 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/7d79b5a5c4a3adad15117a45d7976554/</guid><description>本章详细介绍了如何在FastAPI中实现OAuth2密码流程的认证机制。通过创建令牌端点，用户可以使用用户名和密码获取JWT访问令牌。代码示例展示了如何使用&lt;code>CryptContext&lt;/code>进行密码哈希处理，生成和验证JWT令牌，并实现安全路由保护。此外，还提供了JWT令牌的结构解析、常见报错解决方案以及安全增强建议，如使用HTTPS传输令牌和从环境变量读取密钥。最后，通过课后Quiz巩固了关键概念。</description></item><item><title>FastAPI安全门神：OAuth2PasswordBearer的奇妙冒险</title><link>https://blog.cmdragon.cn/posts/b49f9c66da662d6e3d59d594cbfdc545/</link><pubDate>Fri, 30 May 2025 18:34:14 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/b49f9c66da662d6e3d59d594cbfdc545/</guid><description>FastAPI的OAuth2PasswordBearer是处理OAuth2密码授权流程的核心工具，负责从请求头提取Bearer Token、验证令牌格式有效性，并管理401未认证的自动响应。通过配置&lt;code>tokenUrl&lt;/code>和&lt;code>auto_error&lt;/code>参数，开发者可以定制认证流程。依赖注入系统支持分层解析策略，包括路由级依赖、路径操作函数参数和子依赖项。生产环境中建议使用密码哈希和JWT配置增强安全性。测试时可通过&lt;code>dependency_overrides&lt;/code>覆盖安全依赖，确保测试环境的灵活性。</description></item><item><title>OAuth2密码模式：信任的甜蜜陷阱与安全指南</title><link>https://blog.cmdragon.cn/posts/96b6c27c65f8bdaa6a70b9d896192a00/</link><pubDate>Thu, 29 May 2025 14:56:19 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/96b6c27c65f8bdaa6a70b9d896192a00/</guid><description>OAuth2定义了四种主要授权流程：授权码模式适用于完整Web应用，通过授权码交换令牌；简化模式适合单页应用，直接返回令牌但存在安全隐患；客户端凭证模式用于服务端间通信，无需用户参与；密码模式适用于受信任的客户端，直接使用用户名/密码换取令牌。每种模式针对不同场景设计，需根据应用需求和安全考量选择合适方案。密码模式实现中，FastAPI通过JWT令牌和bcrypt密码哈希确保安全性，但需高度信任客户端。</description></item></channel></rss>
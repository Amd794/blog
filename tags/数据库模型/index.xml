<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>数据库模型 on cmdragon's Blog</title><link>https://blog.cmdragon.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B/</link><description>Recent content in 数据库模型 on cmdragon's Blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Mon, 16 Jun 2025 08:17:05 +0800</lastBuildDate><atom:link href="https://blog.cmdragon.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9E%8B/index.xml" rel="self" type="application/rss+xml"/><item><title>如何在FastAPI中打造一个既安全又灵活的权限管理系统？</title><link>https://blog.cmdragon.cn/posts/277aa1628a2fa9855cdfe5f7c302bd92/</link><pubDate>Mon, 16 Jun 2025 08:17:05 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/277aa1628a2fa9855cdfe5f7c302bd92/</guid><description>FastAPI权限系统通过依赖注入实现三级验证：身份认证、角色验证和权限校验。数据库模型包括用户、角色和权限注册表，支持动态管理权限。权限验证依赖项通过检查用户角色权限进行访问控制，动态路由权限注册允许实时添加权限。中间件实时检查用户权限，确保访问安全。系统处理常见报错如422 Unprocessable Entity和数据库连接超时，确保稳定运行。</description></item><item><title>使用Tortoise-ORM和FastAPI构建评论系统</title><link>https://blog.cmdragon.cn/posts/97d9c275881a38c29b26f565d83be9d3/</link><pubDate>Fri, 25 Apr 2025 21:37:36 +0800</pubDate><guid>https://blog.cmdragon.cn/posts/97d9c275881a38c29b26f565d83be9d3/</guid><description>在models.py中定义了Comment模型，包含id、content、created_at、updated_at字段，并与User和Article模型建立外键关系。schemas.py中定义了CommentBase、CommentCreate、CommentUpdate和CommentResponse等Pydantic模型，用于数据验证和响应。路由层实现了创建、获取和删除评论的API，使用get_or_none处理不存在的评论，并捕获异常。测试接口通过requests进行创建和异常测试。常见报错包括外键约束失败、验证错误和事件循环未关闭，需检查外键值、请求体匹配和正确关闭事件循环。</description></item></channel></rss>
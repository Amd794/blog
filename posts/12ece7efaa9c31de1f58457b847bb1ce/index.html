<!DOCTYPE html>
<html lang="zh-cn">
<head>
    
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç† - cmdragon&#39;s Blog</title>
<meta name="description" content=" ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹ 1.1 Vue 3æ¦‚è¿° Vue 3çš„è¯ç”ŸèƒŒæ™¯ï¼šVue 2çš„å±€é™ä¸æ”¹è¿›éœ€æ±‚ Vue 3çš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸå’Œç›®æ ‡ï¼šç¨³å®šæ€§å’Œæ€§èƒ½çš„æå‡ 1.2 Vue 3çš„æ–°ç‰¹æ€§ TypeScriptæ”¯æŒï¼šå¼•å…¥TypeScriptä½œä¸ºå®˜æ–¹æ¨èçš„å¼€å‘è¯­è¨€ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§å’Œä»£ç è´¨é‡ã€‚ SFCï¼ˆSingle File Componentï¼‰çš„ä¼˜åŒ–ï¼šæ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚å¼•å…¥æ¨¡æ¿ç‰‡æ®µã€JSXæ”¯æŒï¼Œä»¥åŠæ›´çµæ´»çš„ç»„ä»¶ç»“æ„ã€‚ Composition APIï¼šå–ä»£options APIï¼Œæä¾›æ›´æ¨¡å—åŒ–ã€å¯ç»„åˆçš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚ Refå’ŒReactiveï¼šæ–°çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ã€‚ è™šæ‹ŸDOMçš„ä¼˜åŒ–ï¼šVue 3ä½¿ç”¨æ–°çš„ç¼–è¯‘å™¨ï¼Œæå‡äº†æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨å’Œå¤æ‚ç»„ä»¶ä¸­çš„æ¸²æŸ“é€Ÿåº¦ã€‚ æœåŠ¡æ’æ§½ï¼ˆSlots as Functionsï¼‰ ï¼šæä¾›æ›´çµæ´»çš„æ’æ§½ç®¡ç†ï¼Œç®€åŒ–ç»„ä»¶é—´é€šä¿¡ã€‚ SSRï¼ˆServer-Side Renderingï¼‰ ï¼šæ”¯æŒæ›´é«˜æ•ˆçš„æœåŠ¡å™¨æ¸²æŸ“ï¼Œæå‡äº†SEOå’Œæ€§èƒ½ã€‚ 1.3 Vue 3çš„æ¶æ„è®¾è®¡ Vue 3çš„æ ¸å¿ƒç»„ä»¶ï¼šVueå®ä¾‹ã€æ¨¡æ¿ç¼–è¯‘å™¨ã€å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚ ç»„ä»¶åŒ–è®¾è®¡ï¼šå¦‚ä½•é€šè¿‡Composition APIæ„å»ºå¯å¤ç”¨ã€å¯ç»„åˆçš„ç»„ä»¶ã€‚ å¯æ‰©å±•æ€§ï¼šVue 3å¦‚ä½•ä¿æŒå¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬æ’ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§ã€‚ ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼šVue 3çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠç”Ÿæ€ç³»ç»Ÿä¸­æä¾›çš„å„ç§å·¥å…·å’Œåº“ã€‚ ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿° 2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰ å“åº”å¼ç³»ç»Ÿï¼šæ˜¯ä¸€ç§æ•°æ®ç»‘å®šæœºåˆ¶ï¼Œåœ¨æ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚ åœ¨Vueä¸­ï¼Œå“åº”å¼ç³»ç»ŸåŸºäºæ•°æ®åŠ«æŒå’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°ã€‚ 2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿ è‡ªåŠ¨åŒæ­¥æ•°æ®å’Œè§†å›¾ï¼šå¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨æ›´æ–°è§†å›¾ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚ ADï¼šæ¼«ç”»é¦–é¡µ é«˜æ€§èƒ½ï¼šé€šè¿‡æ•°æ®åŠ«æŒå’ŒDiffç®—æ³•ï¼Œåœ¨æ•°æ®æ›´æ–°æ—¶ä»…æ›´æ–°å¿…è¦çš„DOMå…ƒç´ ï¼Œå‡å°‘é‡ç»˜å’Œå›æµã€‚ 2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹ Proxy vs Object.definePropertyï¼šVue 3ä½¿ç”¨Proxyä»£æ›¿Object.definePropertyï¼Œè§£å†³äº†Object.definePropertyçš„å±€é™æ€§ï¼Œå¦‚åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½ç›‘å¬æ•´ä¸ªå¯¹è±¡ã€‚ Refå’ŒReactiveï¼šVue 3ä¸­ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ï¼Œæä¾›æ›´çµæ´»çš„æ•°æ®ç®¡ç†æ–¹å¼ã€‚ å“åº”å¼ç³»ç»Ÿçš„APIï¼šVue 3æä¾›äº†ä¸€ç³»åˆ—APIï¼Œç”¨äºç®¡ç†å’Œæ“ä½œå“åº”å¼æ•°æ®ï¼Œå¦‚ã€ğ‘ ğ‘’ğ‘¡ã€deleteã€$watchç­‰ã€‚ ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç† 3.1 æ•°æ®åŠ«æŒ æ•°æ®åŠ«æŒæ˜¯å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–å’Œè®¾ç½®æ“ä½œï¼Œå®ç°å¯¹æ•°æ®çš„ç›‘æ§ã€‚ åœ¨Vue 2ä¸­ï¼Œæ•°æ®åŠ«æŒä¸»è¦é€šè¿‡Object.definePropertyå®ç°ï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œåˆ™ä½¿ç”¨Proxyå¯¹è±¡æ¥å®ç°æ›´å¼ºå¤§çš„æ•°æ®åŠ«æŒåŠŸèƒ½ã€‚ Proxyå¯ä»¥ç›‘å¬å¯¹è±¡çš„ä»»ä½•å±æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œè€ŒObject.definePropertyåªèƒ½ç›‘å¬å·²å­˜åœ¨çš„å±æ€§ã€‚ 3.2 ä¾èµ–æ”¶é›† ä¾èµ–æ”¶é›†æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯»å–æ—¶ï¼Œè®°å½•å“ªäº›ç»„ä»¶æˆ–ä»£ç ä¾èµ–äºè¯¥æ•°æ®ã€‚è¿™æ ·ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç²¾ç¡®åœ°é€šçŸ¥åˆ°ä¾èµ–å®ƒçš„ç»„ä»¶æˆ–ä»£ç ã€‚ Vueä½¿ç”¨Watcherå¯¹è±¡æ¥æ”¶é›†ä¾èµ–ã€‚å½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªWatcherå®ä¾‹ï¼Œè¯¥å®ä¾‹ä¼šè¯»å–å“åº”å¼æ•°æ®ï¼Œä»è€Œè§¦å‘æ•°æ®çš„getterï¼Œè¿›è€Œå°†Watcheræ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ã€‚ 3.3 æ´¾å‘æ›´æ–° æ´¾å‘æ›´æ–°æ˜¯æŒ‡åœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„Watcherè¿›è¡Œæ›´æ–°ã€‚ åœ¨Vueä¸­ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘setterï¼Œè¿›è€Œè§¦å‘ä¾èµ–åˆ—è¡¨ä¸­çš„æ‰€æœ‰Watcherçš„æ›´æ–°å‡½æ•°ï¼Œä½¿å¾—ä¾èµ–è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ Vue 3é€šè¿‡å¼•å…¥effectå‡½æ•°å’Œschedulerè°ƒåº¦å™¨ï¼Œä¼˜åŒ–äº†æ´¾å‘æ›´æ–°çš„è¿‡ç¨‹ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ›´æ–°æ—¶æœºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI 4.1 reactive reactiveå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚ å“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œä¸”å¯ä»¥é€šè¿‡refæˆ–reactiveåˆ›å»ºçš„å“åº”å¼å¯¹è±¡æ˜¯â€œåµŒå¥—â€çš„ï¼Œå³å†…éƒ¨çš„å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚ ä½¿ç”¨reactiveæ—¶ï¼Œæ¨èç”¨äºå¯¹è±¡ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡å±‚æ¬¡è¾ƒæ·±æ—¶ã€‚ 4.2 ref refå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼åŸºæœ¬æ•°æ®çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰ï¼‰æˆ–å¯¹è±¡ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨å¯¹è±¡ã€‚ADï¼šé¦–é¡µ | ä¸€ä¸ªè¦†ç›–å¹¿æ³›ä¸»é¢˜å·¥å…·çš„é«˜æ•ˆåœ¨çº¿å¹³å° å“åº”å¼å¼•ç”¨å¯¹è±¡æœ‰ä¸€ä¸ª.valueå±æ€§ï¼Œç”¨äºè®¿é—®æˆ–ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚ ä½¿ç”¨refæ—¶ï¼Œæ¨èç”¨äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®å˜åŒ–ä¸å¤æ‚æ—¶ã€‚ 4.3 computed computedå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºè®¡ç®—å±æ€§çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœã€‚ è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶ä¾èµ–é¡¹çš„å“åº”å¼æ•°æ®è‡ªåŠ¨æ›´æ–°çš„ã€‚ å½“ä¾èµ–é¡¹ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—å¹¶è¿”å›æ–°çš„ç»“æœã€‚ è®¡ç®—å±æ€§é€‚åˆç”¨äºå¤æ‚çš„é€»è¾‘è®¡ç®—å’Œæ•°æ®å¤„ç†ã€‚ 4.4 watch watchå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºä¾¦å¬å“åº”å¼æ•°æ®å˜åŒ–çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªéœ€è¦ä¾¦å¬çš„æ•°æ®ï¼ˆæˆ–è®¡ç®—å±æ€§ï¼‰ä½œä¸ºå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ å½“ä¾¦å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚ watchå¯ä»¥ç”¨äºä¾¦å¬å•ä¸ªæ•°æ®æˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ã€‚ ä¾¦å¬å™¨å¯ä»¥æä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€immediateï¼ˆç«‹å³æ‰§è¡Œå›è°ƒï¼‰ç­‰ã€‚ ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ– 5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰ Vue 3é€šè¿‡â€œé™æ€æå‡â€ï¼ˆSFC Shallow Renderingï¼‰æ¥ä¼˜åŒ–åˆå§‹æ¸²æŸ“æ€§èƒ½ã€‚å½“ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šå°è¯•ä»…æ¸²æŸ“ç»„ä»¶çš„é¡¶å±‚æ¨¡æ¿ï¼Œè€Œä¸æ˜¯é€’å½’æ¸²æŸ“æ‰€æœ‰åµŒå¥—çš„ç»„ä»¶ã€‚è¿™å‡å°‘äº†åˆå§‹æ¸²æŸ“æ—¶çš„DOMæ“ä½œå’Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹ç»„ä»¶æ ‘ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚ 5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰ Vue é€šè¿‡äº‹ä»¶ç›‘å¬ç¼“å­˜æ¥ä¼˜åŒ–äº‹ä»¶å¤„ç†ã€‚å½“ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œå®ƒä¼šç¼“å­˜ç‰¹å®šç±»å‹çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶éƒ½é‡æ–°åˆ›å»ºã€‚è¿™å‡å°‘äº†äº‹ä»¶å¤„ç†å‡½æ•°çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ€§èƒ½å¼€é”€ã€‚ 5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ– Vue 3çš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°æ®çš„ä¾èµ–è·Ÿè¸ªå’Œæ›´æ–°æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š
">


<meta name="author" content="cmdragon">
<meta name="robots" content="index, follow">


<link rel="canonical" href="https://blog.cmdragon.cn/posts/12ece7efaa9c31de1f58457b847bb1ce/">





<meta property="og:title" content="ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç† - cmdragon&#39;s Blog">
<meta property="og:description" content=" ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹ 1.1 Vue 3æ¦‚è¿° Vue 3çš„è¯ç”ŸèƒŒæ™¯ï¼šVue 2çš„å±€é™ä¸æ”¹è¿›éœ€æ±‚ Vue 3çš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸå’Œç›®æ ‡ï¼šç¨³å®šæ€§å’Œæ€§èƒ½çš„æå‡ 1.2 Vue 3çš„æ–°ç‰¹æ€§ TypeScriptæ”¯æŒï¼šå¼•å…¥TypeScriptä½œä¸ºå®˜æ–¹æ¨èçš„å¼€å‘è¯­è¨€ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§å’Œä»£ç è´¨é‡ã€‚ SFCï¼ˆSingle File Componentï¼‰çš„ä¼˜åŒ–ï¼šæ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚å¼•å…¥æ¨¡æ¿ç‰‡æ®µã€JSXæ”¯æŒï¼Œä»¥åŠæ›´çµæ´»çš„ç»„ä»¶ç»“æ„ã€‚ Composition APIï¼šå–ä»£options APIï¼Œæä¾›æ›´æ¨¡å—åŒ–ã€å¯ç»„åˆçš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚ Refå’ŒReactiveï¼šæ–°çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ã€‚ è™šæ‹ŸDOMçš„ä¼˜åŒ–ï¼šVue 3ä½¿ç”¨æ–°çš„ç¼–è¯‘å™¨ï¼Œæå‡äº†æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨å’Œå¤æ‚ç»„ä»¶ä¸­çš„æ¸²æŸ“é€Ÿåº¦ã€‚ æœåŠ¡æ’æ§½ï¼ˆSlots as Functionsï¼‰ ï¼šæä¾›æ›´çµæ´»çš„æ’æ§½ç®¡ç†ï¼Œç®€åŒ–ç»„ä»¶é—´é€šä¿¡ã€‚ SSRï¼ˆServer-Side Renderingï¼‰ ï¼šæ”¯æŒæ›´é«˜æ•ˆçš„æœåŠ¡å™¨æ¸²æŸ“ï¼Œæå‡äº†SEOå’Œæ€§èƒ½ã€‚ 1.3 Vue 3çš„æ¶æ„è®¾è®¡ Vue 3çš„æ ¸å¿ƒç»„ä»¶ï¼šVueå®ä¾‹ã€æ¨¡æ¿ç¼–è¯‘å™¨ã€å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚ ç»„ä»¶åŒ–è®¾è®¡ï¼šå¦‚ä½•é€šè¿‡Composition APIæ„å»ºå¯å¤ç”¨ã€å¯ç»„åˆçš„ç»„ä»¶ã€‚ å¯æ‰©å±•æ€§ï¼šVue 3å¦‚ä½•ä¿æŒå¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬æ’ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§ã€‚ ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼šVue 3çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠç”Ÿæ€ç³»ç»Ÿä¸­æä¾›çš„å„ç§å·¥å…·å’Œåº“ã€‚ ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿° 2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰ å“åº”å¼ç³»ç»Ÿï¼šæ˜¯ä¸€ç§æ•°æ®ç»‘å®šæœºåˆ¶ï¼Œåœ¨æ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚ åœ¨Vueä¸­ï¼Œå“åº”å¼ç³»ç»ŸåŸºäºæ•°æ®åŠ«æŒå’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°ã€‚ 2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿ è‡ªåŠ¨åŒæ­¥æ•°æ®å’Œè§†å›¾ï¼šå¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨æ›´æ–°è§†å›¾ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚ ADï¼šæ¼«ç”»é¦–é¡µ é«˜æ€§èƒ½ï¼šé€šè¿‡æ•°æ®åŠ«æŒå’ŒDiffç®—æ³•ï¼Œåœ¨æ•°æ®æ›´æ–°æ—¶ä»…æ›´æ–°å¿…è¦çš„DOMå…ƒç´ ï¼Œå‡å°‘é‡ç»˜å’Œå›æµã€‚ 2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹ Proxy vs Object.definePropertyï¼šVue 3ä½¿ç”¨Proxyä»£æ›¿Object.definePropertyï¼Œè§£å†³äº†Object.definePropertyçš„å±€é™æ€§ï¼Œå¦‚åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½ç›‘å¬æ•´ä¸ªå¯¹è±¡ã€‚ Refå’ŒReactiveï¼šVue 3ä¸­ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ï¼Œæä¾›æ›´çµæ´»çš„æ•°æ®ç®¡ç†æ–¹å¼ã€‚ å“åº”å¼ç³»ç»Ÿçš„APIï¼šVue 3æä¾›äº†ä¸€ç³»åˆ—APIï¼Œç”¨äºç®¡ç†å’Œæ“ä½œå“åº”å¼æ•°æ®ï¼Œå¦‚ã€ğ‘ ğ‘’ğ‘¡ã€deleteã€$watchç­‰ã€‚ ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç† 3.1 æ•°æ®åŠ«æŒ æ•°æ®åŠ«æŒæ˜¯å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–å’Œè®¾ç½®æ“ä½œï¼Œå®ç°å¯¹æ•°æ®çš„ç›‘æ§ã€‚ åœ¨Vue 2ä¸­ï¼Œæ•°æ®åŠ«æŒä¸»è¦é€šè¿‡Object.definePropertyå®ç°ï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œåˆ™ä½¿ç”¨Proxyå¯¹è±¡æ¥å®ç°æ›´å¼ºå¤§çš„æ•°æ®åŠ«æŒåŠŸèƒ½ã€‚ Proxyå¯ä»¥ç›‘å¬å¯¹è±¡çš„ä»»ä½•å±æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œè€ŒObject.definePropertyåªèƒ½ç›‘å¬å·²å­˜åœ¨çš„å±æ€§ã€‚ 3.2 ä¾èµ–æ”¶é›† ä¾èµ–æ”¶é›†æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯»å–æ—¶ï¼Œè®°å½•å“ªäº›ç»„ä»¶æˆ–ä»£ç ä¾èµ–äºè¯¥æ•°æ®ã€‚è¿™æ ·ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç²¾ç¡®åœ°é€šçŸ¥åˆ°ä¾èµ–å®ƒçš„ç»„ä»¶æˆ–ä»£ç ã€‚ Vueä½¿ç”¨Watcherå¯¹è±¡æ¥æ”¶é›†ä¾èµ–ã€‚å½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªWatcherå®ä¾‹ï¼Œè¯¥å®ä¾‹ä¼šè¯»å–å“åº”å¼æ•°æ®ï¼Œä»è€Œè§¦å‘æ•°æ®çš„getterï¼Œè¿›è€Œå°†Watcheræ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ã€‚ 3.3 æ´¾å‘æ›´æ–° æ´¾å‘æ›´æ–°æ˜¯æŒ‡åœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„Watcherè¿›è¡Œæ›´æ–°ã€‚ åœ¨Vueä¸­ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘setterï¼Œè¿›è€Œè§¦å‘ä¾èµ–åˆ—è¡¨ä¸­çš„æ‰€æœ‰Watcherçš„æ›´æ–°å‡½æ•°ï¼Œä½¿å¾—ä¾èµ–è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ Vue 3é€šè¿‡å¼•å…¥effectå‡½æ•°å’Œschedulerè°ƒåº¦å™¨ï¼Œä¼˜åŒ–äº†æ´¾å‘æ›´æ–°çš„è¿‡ç¨‹ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ›´æ–°æ—¶æœºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI 4.1 reactive reactiveå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚ å“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œä¸”å¯ä»¥é€šè¿‡refæˆ–reactiveåˆ›å»ºçš„å“åº”å¼å¯¹è±¡æ˜¯â€œåµŒå¥—â€çš„ï¼Œå³å†…éƒ¨çš„å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚ ä½¿ç”¨reactiveæ—¶ï¼Œæ¨èç”¨äºå¯¹è±¡ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡å±‚æ¬¡è¾ƒæ·±æ—¶ã€‚ 4.2 ref refå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼åŸºæœ¬æ•°æ®çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰ï¼‰æˆ–å¯¹è±¡ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨å¯¹è±¡ã€‚ADï¼šé¦–é¡µ | ä¸€ä¸ªè¦†ç›–å¹¿æ³›ä¸»é¢˜å·¥å…·çš„é«˜æ•ˆåœ¨çº¿å¹³å° å“åº”å¼å¼•ç”¨å¯¹è±¡æœ‰ä¸€ä¸ª.valueå±æ€§ï¼Œç”¨äºè®¿é—®æˆ–ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚ ä½¿ç”¨refæ—¶ï¼Œæ¨èç”¨äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®å˜åŒ–ä¸å¤æ‚æ—¶ã€‚ 4.3 computed computedå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºè®¡ç®—å±æ€§çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœã€‚ è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶ä¾èµ–é¡¹çš„å“åº”å¼æ•°æ®è‡ªåŠ¨æ›´æ–°çš„ã€‚ å½“ä¾èµ–é¡¹ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—å¹¶è¿”å›æ–°çš„ç»“æœã€‚ è®¡ç®—å±æ€§é€‚åˆç”¨äºå¤æ‚çš„é€»è¾‘è®¡ç®—å’Œæ•°æ®å¤„ç†ã€‚ 4.4 watch watchå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºä¾¦å¬å“åº”å¼æ•°æ®å˜åŒ–çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªéœ€è¦ä¾¦å¬çš„æ•°æ®ï¼ˆæˆ–è®¡ç®—å±æ€§ï¼‰ä½œä¸ºå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ å½“ä¾¦å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚ watchå¯ä»¥ç”¨äºä¾¦å¬å•ä¸ªæ•°æ®æˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ã€‚ ä¾¦å¬å™¨å¯ä»¥æä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€immediateï¼ˆç«‹å³æ‰§è¡Œå›è°ƒï¼‰ç­‰ã€‚ ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ– 5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰ Vue 3é€šè¿‡â€œé™æ€æå‡â€ï¼ˆSFC Shallow Renderingï¼‰æ¥ä¼˜åŒ–åˆå§‹æ¸²æŸ“æ€§èƒ½ã€‚å½“ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šå°è¯•ä»…æ¸²æŸ“ç»„ä»¶çš„é¡¶å±‚æ¨¡æ¿ï¼Œè€Œä¸æ˜¯é€’å½’æ¸²æŸ“æ‰€æœ‰åµŒå¥—çš„ç»„ä»¶ã€‚è¿™å‡å°‘äº†åˆå§‹æ¸²æŸ“æ—¶çš„DOMæ“ä½œå’Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹ç»„ä»¶æ ‘ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚ 5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰ Vue é€šè¿‡äº‹ä»¶ç›‘å¬ç¼“å­˜æ¥ä¼˜åŒ–äº‹ä»¶å¤„ç†ã€‚å½“ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œå®ƒä¼šç¼“å­˜ç‰¹å®šç±»å‹çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶éƒ½é‡æ–°åˆ›å»ºã€‚è¿™å‡å°‘äº†äº‹ä»¶å¤„ç†å‡½æ•°çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ€§èƒ½å¼€é”€ã€‚ 5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ– Vue 3çš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°æ®çš„ä¾èµ–è·Ÿè¸ªå’Œæ›´æ–°æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.cmdragon.cn/posts/12ece7efaa9c31de1f58457b847bb1ce/">

<meta property="og:image" content="https://blog.cmdragon.cn/images/logo/social-card.png">

<meta property="og:site_name" content="cmdragon&#39;s Blog">

<meta property="article:published_time" content="2024-05-28T15:44:47&#43;08:00">

<meta property="article:modified_time" content="2024-05-28T15:44:47&#43;08:00">



<meta property="article:section" content="å‰ç«¯å¼€å‘">




<meta property="article:tag" content="Vue3.x">

<meta property="article:tag" content="TypeScript">

<meta property="article:tag" content="SFCä¼˜åŒ–">

<meta property="article:tag" content="Composition-API">

<meta property="article:tag" content="Ref&amp;Reactive">

<meta property="article:tag" content="æ€§èƒ½æå‡">

<meta property="article:tag" content="å“åº”å¼åŸç†">





<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç† - cmdragon&#39;s Blog">
<meta name="twitter:description" content=" ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹ 1.1 Vue 3æ¦‚è¿° Vue 3çš„è¯ç”ŸèƒŒæ™¯ï¼šVue 2çš„å±€é™ä¸æ”¹è¿›éœ€æ±‚ Vue 3çš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸå’Œç›®æ ‡ï¼šç¨³å®šæ€§å’Œæ€§èƒ½çš„æå‡ 1.2 Vue 3çš„æ–°ç‰¹æ€§ TypeScriptæ”¯æŒï¼šå¼•å…¥TypeScriptä½œä¸ºå®˜æ–¹æ¨èçš„å¼€å‘è¯­è¨€ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§å’Œä»£ç è´¨é‡ã€‚ SFCï¼ˆSingle File Componentï¼‰çš„ä¼˜åŒ–ï¼šæ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚å¼•å…¥æ¨¡æ¿ç‰‡æ®µã€JSXæ”¯æŒï¼Œä»¥åŠæ›´çµæ´»çš„ç»„ä»¶ç»“æ„ã€‚ Composition APIï¼šå–ä»£options APIï¼Œæä¾›æ›´æ¨¡å—åŒ–ã€å¯ç»„åˆçš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚ Refå’ŒReactiveï¼šæ–°çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ã€‚ è™šæ‹ŸDOMçš„ä¼˜åŒ–ï¼šVue 3ä½¿ç”¨æ–°çš„ç¼–è¯‘å™¨ï¼Œæå‡äº†æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨å’Œå¤æ‚ç»„ä»¶ä¸­çš„æ¸²æŸ“é€Ÿåº¦ã€‚ æœåŠ¡æ’æ§½ï¼ˆSlots as Functionsï¼‰ ï¼šæä¾›æ›´çµæ´»çš„æ’æ§½ç®¡ç†ï¼Œç®€åŒ–ç»„ä»¶é—´é€šä¿¡ã€‚ SSRï¼ˆServer-Side Renderingï¼‰ ï¼šæ”¯æŒæ›´é«˜æ•ˆçš„æœåŠ¡å™¨æ¸²æŸ“ï¼Œæå‡äº†SEOå’Œæ€§èƒ½ã€‚ 1.3 Vue 3çš„æ¶æ„è®¾è®¡ Vue 3çš„æ ¸å¿ƒç»„ä»¶ï¼šVueå®ä¾‹ã€æ¨¡æ¿ç¼–è¯‘å™¨ã€å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚ ç»„ä»¶åŒ–è®¾è®¡ï¼šå¦‚ä½•é€šè¿‡Composition APIæ„å»ºå¯å¤ç”¨ã€å¯ç»„åˆçš„ç»„ä»¶ã€‚ å¯æ‰©å±•æ€§ï¼šVue 3å¦‚ä½•ä¿æŒå¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬æ’ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§ã€‚ ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼šVue 3çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠç”Ÿæ€ç³»ç»Ÿä¸­æä¾›çš„å„ç§å·¥å…·å’Œåº“ã€‚ ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿° 2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰ å“åº”å¼ç³»ç»Ÿï¼šæ˜¯ä¸€ç§æ•°æ®ç»‘å®šæœºåˆ¶ï¼Œåœ¨æ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚ åœ¨Vueä¸­ï¼Œå“åº”å¼ç³»ç»ŸåŸºäºæ•°æ®åŠ«æŒå’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°ã€‚ 2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿ è‡ªåŠ¨åŒæ­¥æ•°æ®å’Œè§†å›¾ï¼šå¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨æ›´æ–°è§†å›¾ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚ ADï¼šæ¼«ç”»é¦–é¡µ é«˜æ€§èƒ½ï¼šé€šè¿‡æ•°æ®åŠ«æŒå’ŒDiffç®—æ³•ï¼Œåœ¨æ•°æ®æ›´æ–°æ—¶ä»…æ›´æ–°å¿…è¦çš„DOMå…ƒç´ ï¼Œå‡å°‘é‡ç»˜å’Œå›æµã€‚ 2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹ Proxy vs Object.definePropertyï¼šVue 3ä½¿ç”¨Proxyä»£æ›¿Object.definePropertyï¼Œè§£å†³äº†Object.definePropertyçš„å±€é™æ€§ï¼Œå¦‚åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½ç›‘å¬æ•´ä¸ªå¯¹è±¡ã€‚ Refå’ŒReactiveï¼šVue 3ä¸­ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ï¼Œæä¾›æ›´çµæ´»çš„æ•°æ®ç®¡ç†æ–¹å¼ã€‚ å“åº”å¼ç³»ç»Ÿçš„APIï¼šVue 3æä¾›äº†ä¸€ç³»åˆ—APIï¼Œç”¨äºç®¡ç†å’Œæ“ä½œå“åº”å¼æ•°æ®ï¼Œå¦‚ã€ğ‘ ğ‘’ğ‘¡ã€deleteã€$watchç­‰ã€‚ ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç† 3.1 æ•°æ®åŠ«æŒ æ•°æ®åŠ«æŒæ˜¯å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–å’Œè®¾ç½®æ“ä½œï¼Œå®ç°å¯¹æ•°æ®çš„ç›‘æ§ã€‚ åœ¨Vue 2ä¸­ï¼Œæ•°æ®åŠ«æŒä¸»è¦é€šè¿‡Object.definePropertyå®ç°ï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œåˆ™ä½¿ç”¨Proxyå¯¹è±¡æ¥å®ç°æ›´å¼ºå¤§çš„æ•°æ®åŠ«æŒåŠŸèƒ½ã€‚ Proxyå¯ä»¥ç›‘å¬å¯¹è±¡çš„ä»»ä½•å±æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œè€ŒObject.definePropertyåªèƒ½ç›‘å¬å·²å­˜åœ¨çš„å±æ€§ã€‚ 3.2 ä¾èµ–æ”¶é›† ä¾èµ–æ”¶é›†æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯»å–æ—¶ï¼Œè®°å½•å“ªäº›ç»„ä»¶æˆ–ä»£ç ä¾èµ–äºè¯¥æ•°æ®ã€‚è¿™æ ·ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç²¾ç¡®åœ°é€šçŸ¥åˆ°ä¾èµ–å®ƒçš„ç»„ä»¶æˆ–ä»£ç ã€‚ Vueä½¿ç”¨Watcherå¯¹è±¡æ¥æ”¶é›†ä¾èµ–ã€‚å½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªWatcherå®ä¾‹ï¼Œè¯¥å®ä¾‹ä¼šè¯»å–å“åº”å¼æ•°æ®ï¼Œä»è€Œè§¦å‘æ•°æ®çš„getterï¼Œè¿›è€Œå°†Watcheræ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ã€‚ 3.3 æ´¾å‘æ›´æ–° æ´¾å‘æ›´æ–°æ˜¯æŒ‡åœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„Watcherè¿›è¡Œæ›´æ–°ã€‚ åœ¨Vueä¸­ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘setterï¼Œè¿›è€Œè§¦å‘ä¾èµ–åˆ—è¡¨ä¸­çš„æ‰€æœ‰Watcherçš„æ›´æ–°å‡½æ•°ï¼Œä½¿å¾—ä¾èµ–è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ Vue 3é€šè¿‡å¼•å…¥effectå‡½æ•°å’Œschedulerè°ƒåº¦å™¨ï¼Œä¼˜åŒ–äº†æ´¾å‘æ›´æ–°çš„è¿‡ç¨‹ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ›´æ–°æ—¶æœºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI 4.1 reactive reactiveå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚ å“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œä¸”å¯ä»¥é€šè¿‡refæˆ–reactiveåˆ›å»ºçš„å“åº”å¼å¯¹è±¡æ˜¯â€œåµŒå¥—â€çš„ï¼Œå³å†…éƒ¨çš„å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚ ä½¿ç”¨reactiveæ—¶ï¼Œæ¨èç”¨äºå¯¹è±¡ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡å±‚æ¬¡è¾ƒæ·±æ—¶ã€‚ 4.2 ref refå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼åŸºæœ¬æ•°æ®çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰ï¼‰æˆ–å¯¹è±¡ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨å¯¹è±¡ã€‚ADï¼šé¦–é¡µ | ä¸€ä¸ªè¦†ç›–å¹¿æ³›ä¸»é¢˜å·¥å…·çš„é«˜æ•ˆåœ¨çº¿å¹³å° å“åº”å¼å¼•ç”¨å¯¹è±¡æœ‰ä¸€ä¸ª.valueå±æ€§ï¼Œç”¨äºè®¿é—®æˆ–ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚ ä½¿ç”¨refæ—¶ï¼Œæ¨èç”¨äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®å˜åŒ–ä¸å¤æ‚æ—¶ã€‚ 4.3 computed computedå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºè®¡ç®—å±æ€§çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœã€‚ è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶ä¾èµ–é¡¹çš„å“åº”å¼æ•°æ®è‡ªåŠ¨æ›´æ–°çš„ã€‚ å½“ä¾èµ–é¡¹ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—å¹¶è¿”å›æ–°çš„ç»“æœã€‚ è®¡ç®—å±æ€§é€‚åˆç”¨äºå¤æ‚çš„é€»è¾‘è®¡ç®—å’Œæ•°æ®å¤„ç†ã€‚ 4.4 watch watchå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºä¾¦å¬å“åº”å¼æ•°æ®å˜åŒ–çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªéœ€è¦ä¾¦å¬çš„æ•°æ®ï¼ˆæˆ–è®¡ç®—å±æ€§ï¼‰ä½œä¸ºå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ å½“ä¾¦å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚ watchå¯ä»¥ç”¨äºä¾¦å¬å•ä¸ªæ•°æ®æˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ã€‚ ä¾¦å¬å™¨å¯ä»¥æä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€immediateï¼ˆç«‹å³æ‰§è¡Œå›è°ƒï¼‰ç­‰ã€‚ ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ– 5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰ Vue 3é€šè¿‡â€œé™æ€æå‡â€ï¼ˆSFC Shallow Renderingï¼‰æ¥ä¼˜åŒ–åˆå§‹æ¸²æŸ“æ€§èƒ½ã€‚å½“ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šå°è¯•ä»…æ¸²æŸ“ç»„ä»¶çš„é¡¶å±‚æ¨¡æ¿ï¼Œè€Œä¸æ˜¯é€’å½’æ¸²æŸ“æ‰€æœ‰åµŒå¥—çš„ç»„ä»¶ã€‚è¿™å‡å°‘äº†åˆå§‹æ¸²æŸ“æ—¶çš„DOMæ“ä½œå’Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹ç»„ä»¶æ ‘ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚ 5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰ Vue é€šè¿‡äº‹ä»¶ç›‘å¬ç¼“å­˜æ¥ä¼˜åŒ–äº‹ä»¶å¤„ç†ã€‚å½“ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œå®ƒä¼šç¼“å­˜ç‰¹å®šç±»å‹çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶éƒ½é‡æ–°åˆ›å»ºã€‚è¿™å‡å°‘äº†äº‹ä»¶å¤„ç†å‡½æ•°çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ€§èƒ½å¼€é”€ã€‚ 5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ– Vue 3çš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°æ®çš„ä¾èµ–è·Ÿè¸ªå’Œæ›´æ–°æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š
">

<meta name="twitter:image" content="https://blog.cmdragon.cn/images/logo/social-card.png">





<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç†",
  "datePublished": "2024-05-28T15:44:47\u002b08:00",
  "dateModified": "2024-05-28T15:44:47\u002b08:00",
  "author": {
    "@type": "Person",
    "name": "cmdragon"
  },
  "description": " ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹ 1.1 Vue 3æ¦‚è¿° Vue 3çš„è¯ç”ŸèƒŒæ™¯ï¼šVue 2çš„å±€é™ä¸æ”¹è¿›éœ€æ±‚ Vue 3çš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸå’Œç›®æ ‡ï¼šç¨³å®šæ€§å’Œæ€§èƒ½çš„æå‡ 1.2 Vue 3çš„æ–°ç‰¹æ€§ TypeScriptæ”¯æŒï¼šå¼•å…¥TypeScriptä½œä¸ºå®˜æ–¹æ¨èçš„å¼€å‘è¯­è¨€ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§å’Œä»£ç è´¨é‡ã€‚ SFCï¼ˆSingle File Componentï¼‰çš„ä¼˜åŒ–ï¼šæ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚å¼•å…¥æ¨¡æ¿ç‰‡æ®µã€JSXæ”¯æŒï¼Œä»¥åŠæ›´çµæ´»çš„ç»„ä»¶ç»“æ„ã€‚ Composition APIï¼šå–ä»£options APIï¼Œæä¾›æ›´æ¨¡å—åŒ–ã€å¯ç»„åˆçš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚ Refå’ŒReactiveï¼šæ–°çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ã€‚ è™šæ‹ŸDOMçš„ä¼˜åŒ–ï¼šVue 3ä½¿ç”¨æ–°çš„ç¼–è¯‘å™¨ï¼Œæå‡äº†æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨å’Œå¤æ‚ç»„ä»¶ä¸­çš„æ¸²æŸ“é€Ÿåº¦ã€‚ æœåŠ¡æ’æ§½ï¼ˆSlots as Functionsï¼‰ ï¼šæä¾›æ›´çµæ´»çš„æ’æ§½ç®¡ç†ï¼Œç®€åŒ–ç»„ä»¶é—´é€šä¿¡ã€‚ SSRï¼ˆServer-Side Renderingï¼‰ ï¼šæ”¯æŒæ›´é«˜æ•ˆçš„æœåŠ¡å™¨æ¸²æŸ“ï¼Œæå‡äº†SEOå’Œæ€§èƒ½ã€‚ 1.3 Vue 3çš„æ¶æ„è®¾è®¡ Vue 3çš„æ ¸å¿ƒç»„ä»¶ï¼šVueå®ä¾‹ã€æ¨¡æ¿ç¼–è¯‘å™¨ã€å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚ ç»„ä»¶åŒ–è®¾è®¡ï¼šå¦‚ä½•é€šè¿‡Composition APIæ„å»ºå¯å¤ç”¨ã€å¯ç»„åˆçš„ç»„ä»¶ã€‚ å¯æ‰©å±•æ€§ï¼šVue 3å¦‚ä½•ä¿æŒå¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬æ’ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§ã€‚ ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿï¼šVue 3çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠç”Ÿæ€ç³»ç»Ÿä¸­æä¾›çš„å„ç§å·¥å…·å’Œåº“ã€‚ ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿° 2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰ å“åº”å¼ç³»ç»Ÿï¼šæ˜¯ä¸€ç§æ•°æ®ç»‘å®šæœºåˆ¶ï¼Œåœ¨æ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚ åœ¨Vueä¸­ï¼Œå“åº”å¼ç³»ç»ŸåŸºäºæ•°æ®åŠ«æŒå’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°ã€‚ 2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿ è‡ªåŠ¨åŒæ­¥æ•°æ®å’Œè§†å›¾ï¼šå¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨æ›´æ–°è§†å›¾ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚ ADï¼šæ¼«ç”»é¦–é¡µ é«˜æ€§èƒ½ï¼šé€šè¿‡æ•°æ®åŠ«æŒå’ŒDiffç®—æ³•ï¼Œåœ¨æ•°æ®æ›´æ–°æ—¶ä»…æ›´æ–°å¿…è¦çš„DOMå…ƒç´ ï¼Œå‡å°‘é‡ç»˜å’Œå›æµã€‚ 2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹ Proxy vs Object.definePropertyï¼šVue 3ä½¿ç”¨Proxyä»£æ›¿Object.definePropertyï¼Œè§£å†³äº†Object.definePropertyçš„å±€é™æ€§ï¼Œå¦‚åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½ç›‘å¬æ•´ä¸ªå¯¹è±¡ã€‚ Refå’ŒReactiveï¼šVue 3ä¸­ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ï¼Œæä¾›æ›´çµæ´»çš„æ•°æ®ç®¡ç†æ–¹å¼ã€‚ å“åº”å¼ç³»ç»Ÿçš„APIï¼šVue 3æä¾›äº†ä¸€ç³»åˆ—APIï¼Œç”¨äºç®¡ç†å’Œæ“ä½œå“åº”å¼æ•°æ®ï¼Œå¦‚ã€ğ‘ ğ‘’ğ‘¡ã€deleteã€$watchç­‰ã€‚ ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç† 3.1 æ•°æ®åŠ«æŒ æ•°æ®åŠ«æŒæ˜¯å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–å’Œè®¾ç½®æ“ä½œï¼Œå®ç°å¯¹æ•°æ®çš„ç›‘æ§ã€‚ åœ¨Vue 2ä¸­ï¼Œæ•°æ®åŠ«æŒä¸»è¦é€šè¿‡Object.definePropertyå®ç°ï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œåˆ™ä½¿ç”¨Proxyå¯¹è±¡æ¥å®ç°æ›´å¼ºå¤§çš„æ•°æ®åŠ«æŒåŠŸèƒ½ã€‚ Proxyå¯ä»¥ç›‘å¬å¯¹è±¡çš„ä»»ä½•å±æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œè€ŒObject.definePropertyåªèƒ½ç›‘å¬å·²å­˜åœ¨çš„å±æ€§ã€‚ 3.2 ä¾èµ–æ”¶é›† ä¾èµ–æ”¶é›†æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯»å–æ—¶ï¼Œè®°å½•å“ªäº›ç»„ä»¶æˆ–ä»£ç ä¾èµ–äºè¯¥æ•°æ®ã€‚è¿™æ ·ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç²¾ç¡®åœ°é€šçŸ¥åˆ°ä¾èµ–å®ƒçš„ç»„ä»¶æˆ–ä»£ç ã€‚ Vueä½¿ç”¨Watcherå¯¹è±¡æ¥æ”¶é›†ä¾èµ–ã€‚å½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªWatcherå®ä¾‹ï¼Œè¯¥å®ä¾‹ä¼šè¯»å–å“åº”å¼æ•°æ®ï¼Œä»è€Œè§¦å‘æ•°æ®çš„getterï¼Œè¿›è€Œå°†Watcheræ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ã€‚ 3.3 æ´¾å‘æ›´æ–° æ´¾å‘æ›´æ–°æ˜¯æŒ‡åœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„Watcherè¿›è¡Œæ›´æ–°ã€‚ åœ¨Vueä¸­ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘setterï¼Œè¿›è€Œè§¦å‘ä¾èµ–åˆ—è¡¨ä¸­çš„æ‰€æœ‰Watcherçš„æ›´æ–°å‡½æ•°ï¼Œä½¿å¾—ä¾èµ–è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚ Vue 3é€šè¿‡å¼•å…¥effectå‡½æ•°å’Œschedulerè°ƒåº¦å™¨ï¼Œä¼˜åŒ–äº†æ´¾å‘æ›´æ–°çš„è¿‡ç¨‹ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ›´æ–°æ—¶æœºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚ ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI 4.1 reactive reactiveå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚ å“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œä¸”å¯ä»¥é€šè¿‡refæˆ–reactiveåˆ›å»ºçš„å“åº”å¼å¯¹è±¡æ˜¯â€œåµŒå¥—â€çš„ï¼Œå³å†…éƒ¨çš„å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚ ä½¿ç”¨reactiveæ—¶ï¼Œæ¨èç”¨äºå¯¹è±¡ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡å±‚æ¬¡è¾ƒæ·±æ—¶ã€‚ 4.2 ref refå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼åŸºæœ¬æ•°æ®çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰ï¼‰æˆ–å¯¹è±¡ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨å¯¹è±¡ã€‚ADï¼šé¦–é¡µ | ä¸€ä¸ªè¦†ç›–å¹¿æ³›ä¸»é¢˜å·¥å…·çš„é«˜æ•ˆåœ¨çº¿å¹³å° å“åº”å¼å¼•ç”¨å¯¹è±¡æœ‰ä¸€ä¸ª.valueå±æ€§ï¼Œç”¨äºè®¿é—®æˆ–ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚ ä½¿ç”¨refæ—¶ï¼Œæ¨èç”¨äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®å˜åŒ–ä¸å¤æ‚æ—¶ã€‚ 4.3 computed computedå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºè®¡ç®—å±æ€§çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœã€‚ è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶ä¾èµ–é¡¹çš„å“åº”å¼æ•°æ®è‡ªåŠ¨æ›´æ–°çš„ã€‚ å½“ä¾èµ–é¡¹ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—å¹¶è¿”å›æ–°çš„ç»“æœã€‚ è®¡ç®—å±æ€§é€‚åˆç”¨äºå¤æ‚çš„é€»è¾‘è®¡ç®—å’Œæ•°æ®å¤„ç†ã€‚ 4.4 watch watchå‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºä¾¦å¬å“åº”å¼æ•°æ®å˜åŒ–çš„APIã€‚ å®ƒæ¥å—ä¸€ä¸ªéœ€è¦ä¾¦å¬çš„æ•°æ®ï¼ˆæˆ–è®¡ç®—å±æ€§ï¼‰ä½œä¸ºå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚ å½“ä¾¦å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚ watchå¯ä»¥ç”¨äºä¾¦å¬å•ä¸ªæ•°æ®æˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ã€‚ ä¾¦å¬å™¨å¯ä»¥æä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚deepï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€immediateï¼ˆç«‹å³æ‰§è¡Œå›è°ƒï¼‰ç­‰ã€‚ ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ– 5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰ Vue 3é€šè¿‡â€œé™æ€æå‡â€ï¼ˆSFC Shallow Renderingï¼‰æ¥ä¼˜åŒ–åˆå§‹æ¸²æŸ“æ€§èƒ½ã€‚å½“ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šå°è¯•ä»…æ¸²æŸ“ç»„ä»¶çš„é¡¶å±‚æ¨¡æ¿ï¼Œè€Œä¸æ˜¯é€’å½’æ¸²æŸ“æ‰€æœ‰åµŒå¥—çš„ç»„ä»¶ã€‚è¿™å‡å°‘äº†åˆå§‹æ¸²æŸ“æ—¶çš„DOMæ“ä½œå’Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹ç»„ä»¶æ ‘ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚ 5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰ Vue é€šè¿‡äº‹ä»¶ç›‘å¬ç¼“å­˜æ¥ä¼˜åŒ–äº‹ä»¶å¤„ç†ã€‚å½“ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œå®ƒä¼šç¼“å­˜ç‰¹å®šç±»å‹çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶éƒ½é‡æ–°åˆ›å»ºã€‚è¿™å‡å°‘äº†äº‹ä»¶å¤„ç†å‡½æ•°çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ€§èƒ½å¼€é”€ã€‚ 5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ– Vue 3çš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°æ®çš„ä¾èµ–è·Ÿè¸ªå’Œæ›´æ–°æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š\n",
  
  "image": "https:\/\/blog.cmdragon.cn\/images\/logo\/social-card.png",
  
  "url": "https:\/\/blog.cmdragon.cn\/posts\/12ece7efaa9c31de1f58457b847bb1ce\/",
  "publisher": {
    "@type": "Organization",
    "name": "cmdragon\u0027s Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/blog.cmdragon.cn\/images\/logo\/small.png"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https:\/\/blog.cmdragon.cn\/posts\/12ece7efaa9c31de1f58457b847bb1ce\/"
  },
  
  "keywords": "å‰ç«¯å¼€å‘",
  
  
  "keywords": "Vue3.x, TypeScript, SFCä¼˜åŒ–, Composition-API, Ref\u0026Reactive, æ€§èƒ½æå‡, å“åº”å¼åŸç†",
  
  "wordCount": "4355"
}
</script>



<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js" as="script">



<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" href="/images/logo/small.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/logo/small.png">
<link rel="icon" type="image/svg+xml" href="/images/logo/scalable.svg">
<meta name="theme-color" content="#3B82F6">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2874982874195135"
     crossorigin="anonymous"></script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.3.0/mermaid.min.js"></script>
<script>
  
  (function() {
    if (typeof mermaid !== 'undefined') {
      
      window.mermaid = mermaid;
      
      
      const isDarkMode = document.documentElement.classList.contains('dark') || 
                        window.matchMedia('(prefers-color-scheme: dark)').matches;
      
      
      window.mermaid.initialize({
        startOnLoad: true,  
        theme: isDarkMode ? 'dark' : 'default',
        securityLevel: 'loose',
        flowchart: {
          curve: 'basis',
          htmlLabels: true
        },
        sequence: {
          mirrorActors: false,
          wrap: true
        },
        themeVariables: {
          primaryColor: '#3b82f6',
          primaryTextColor: '#ffffff',
          primaryBorderColor: isDarkMode ? '#60a5fa' : '#2563eb',
          lineColor: isDarkMode ? '#94a3b8' : '#4b5563',
          secondaryColor: isDarkMode ? '#1e293b' : '#f0f9ff',
          tertiaryColor: isDarkMode ? '#334155' : '#f3f4f6'
        }
      });
      
      
      document.addEventListener('DOMContentLoaded', function() {
        try {
          
          if (typeof window.mermaid.init === 'function') {
            window.mermaid.init(undefined, document.querySelectorAll('.mermaid'));
          }
        } catch (e) {
          
        }
      });
    }
  })();
</script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css">
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.js"></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/contrib/auto-render.min.js"></script>


<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                colors: {
                    primary: '#3B82F6',
                    'primary-light': '#60a5fa',
                    'primary-dark': '#2563eb',
                },
                typography: (theme) => ({
                    DEFAULT: {
                        css: {
                            color: theme('colors.gray.800'),
                            a: {
                                color: theme('colors.primary'),
                                '&:hover': {
                                    color: theme('colors.primary-dark'),
                                },
                            },
                            'h2, h3, h4, h5, h6': {
                                color: theme('colors.gray.900'),
                            },
                            pre: {
                                backgroundColor: theme('colors.gray.800'),
                                color: theme('colors.gray.100'),
                            },
                            code: {
                                color: theme('colors.primary'),
                                backgroundColor: theme('colors.gray.100'),
                                padding: '0.25rem',
                                borderRadius: '0.25rem',
                                fontWeight: '400',
                            },
                            'code::before': {
                                content: '""',
                            },
                            'code::after': {
                                content: '""',
                            },
                        },
                    },
                    dark: {
                        css: {
                            color: theme('colors.gray.200'),
                            a: {
                                color: theme('colors.primary-light'),
                                '&:hover': {
                                    color: theme('colors.primary'),
                                },
                            },
                            'h2, h3, h4, h5, h6': {
                                color: theme('colors.gray.100'),
                            },
                            pre: {
                                backgroundColor: theme('colors.gray.900'),
                            },
                            code: {
                                color: theme('colors.primary-light'),
                                backgroundColor: theme('colors.gray.800'),
                            },
                        },
                    },
                }),
            },
        },
    }
</script>


<script src="/js/iconify-icon.min.js"></script>


<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap">


<link rel="stylesheet" href="/css/code-highlight.css">
<link rel="stylesheet" href="/css/markdown.css">


<style type="text/tailwindcss">
    @layer components {
        body {
            font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        code, pre {
            font-family: 'JetBrains Mono', Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
        }
        .prose {
            @apply max-w-none;
        }
        .nav-link {
            @apply px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200;
        }
        .nav-link:hover {
            @apply bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white;
        }
        .nav-link-active {
            @apply bg-gray-100 text-gray-900 dark:bg-gray-700 dark:text-white;
        }
    }
</style>


<style>
   
  .mermaid {
    margin: 2rem auto;
    text-align: center;
    overflow: visible;
    width: auto;
    max-width: 100%;
    background-color: #f9fafb;
    padding: 1.5rem 0.5rem;
    border-radius: 0.5rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    display: block;
  }
  
  .dark .mermaid {
    background-color: #1e293b;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  }
  
   
  .mermaid svg {
    display: block !important;
    max-width: 100%;
    width: auto !important;
    height: auto !important;
    font-size: 14px;
    margin: 0 auto;
  }
  
   
  .mermaid .node rect,
  .mermaid .node circle,
  .mermaid .node ellipse,
  .mermaid .node polygon,
  .mermaid .node path {
    stroke-width: 1px;
  }
  
  .mermaid .edgePath .path {
    stroke-width: 1.5px;
  }
  
  .mermaid .edgeLabel {
    font-size: 0.85em;
    background-color: inherit !important;
  }
  
   
  .mermaid .label text,
  .mermaid text.label {
    fill: #374151;
    font-weight: normal;
  }
  
  .dark .mermaid .label text,
  .dark .mermaid text.label {
    fill: #e5e7eb;
  }
  
   
  @media (max-width: 768px) {
    .mermaid {
      max-width: 98%;
      padding: 0.8rem 0.3rem;
      margin: 1.2rem auto;
    }
    
    .mermaid svg {
      font-size: 12px;
    }
  }
</style> 
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen flex flex-col">
    <div class="flex-grow flex flex-col">
        <header class="bg-white dark:bg-gray-800 shadow-md sticky top-0 z-30 transition-all duration-300 border-b border-gray-100 dark:border-gray-700">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center h-16">
            
            <div class="flex items-center">
                <a href="https://blog.cmdragon.cn/" class="flex items-center gap-2 text-xl font-bold text-gray-900 dark:text-white group transition-all duration-300">
                    <div class="h-9 w-9 flex items-center justify-center transition-all duration-300 transform group-hover:scale-105">
                        <img src="/images/logo/small.png" alt="cmdragon&#39;s Blog Logo" class="h-full w-auto" />
                    </div>
                    <span class="group-hover:text-primary transition-colors duration-300">cmdragon&#39;s Blog</span>
                </a>
            </div>
            
            
            <nav class="hidden md:flex space-x-1">
                
                
                    <a href="/" 
                       class="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden group text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"
                       aria-label="é¦–é¡µ"
                       tabindex="0">
                        <span class="relative z-10">é¦–é¡µ</span>
                        
                        <span class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:h-full opacity-80 -z-0"></span>
                        <span class="absolute bottom-0 left-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
                        
                    </a>
                
                    <a href="/archives/" 
                       class="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden group text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"
                       aria-label="å½’æ¡£"
                       tabindex="0">
                        <span class="relative z-10">å½’æ¡£</span>
                        
                        <span class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:h-full opacity-80 -z-0"></span>
                        <span class="absolute bottom-0 left-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
                        
                    </a>
                
                    <a href="/categories/" 
                       class="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden group text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"
                       aria-label="åˆ†ç±»"
                       tabindex="0">
                        <span class="relative z-10">åˆ†ç±»</span>
                        
                        <span class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:h-full opacity-80 -z-0"></span>
                        <span class="absolute bottom-0 left-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
                        
                    </a>
                
                    <a href="/tags/" 
                       class="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden group text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"
                       aria-label="æ ‡ç­¾"
                       tabindex="0">
                        <span class="relative z-10">æ ‡ç­¾</span>
                        
                        <span class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:h-full opacity-80 -z-0"></span>
                        <span class="absolute bottom-0 left-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
                        
                    </a>
                
                    <a href="/friends/" 
                       class="px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 relative overflow-hidden group text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"
                       aria-label="å‹é“¾"
                       tabindex="0">
                        <span class="relative z-10">å‹é“¾</span>
                        
                        <span class="absolute bottom-0 left-0 w-full h-0 bg-gradient-to-r from-blue-500 to-indigo-600 transition-all duration-300 group-hover:h-full opacity-80 -z-0"></span>
                        <span class="absolute bottom-0 left-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
                        
                    </a>
                
            </nav>
            
            
            <div class="flex items-center space-x-3">
                
                <button 
                    class="p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary"
                    aria-label="æœç´¢"
                    tabindex="0"
                    onclick="openSiteSearch()">
                    <iconify-icon icon="mdi:magnify" width="20" height="20"></iconify-icon>
                </button>
                
                
                <button 
                    id="theme-toggle" 
                    class="p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary"
                    aria-label="åˆ‡æ¢æ·±è‰²æ¨¡å¼"
                    tabindex="0">
                    <iconify-icon icon="mdi:weather-sunny" class="dark:hidden" width="20" height="20"></iconify-icon>
                    <iconify-icon icon="mdi:weather-night" class="hidden dark:block" width="20" height="20"></iconify-icon>
                </button>
                
                
                <button 
                    id="mobile-menu-button" 
                    class="md:hidden p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 text-gray-700 dark:text-gray-300 hover:text-primary dark:hover:text-primary"
                    aria-label="æ‰“å¼€èœå•"
                    tabindex="0">
                    <iconify-icon icon="mdi:menu" width="20" height="20"></iconify-icon>
                </button>
            </div>
        </div>
        
        
        <div id="mobile-menu" class="md:hidden hidden pb-3">
            <div class="space-y-2 px-2 pt-2 pb-3 rounded-lg bg-gray-50 dark:bg-gray-700 mt-2 shadow-inner">
                
                    <a href="/" 
                       class="block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"
                       aria-label="é¦–é¡µ"
                       tabindex="0">
                        <div class="flex items-center">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2" width="18" height="18"></iconify-icon>
                            é¦–é¡µ
                        </div>
                    </a>
                
                    <a href="/archives/" 
                       class="block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"
                       aria-label="å½’æ¡£"
                       tabindex="0">
                        <div class="flex items-center">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2" width="18" height="18"></iconify-icon>
                            å½’æ¡£
                        </div>
                    </a>
                
                    <a href="/categories/" 
                       class="block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"
                       aria-label="åˆ†ç±»"
                       tabindex="0">
                        <div class="flex items-center">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2" width="18" height="18"></iconify-icon>
                            åˆ†ç±»
                        </div>
                    </a>
                
                    <a href="/tags/" 
                       class="block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"
                       aria-label="æ ‡ç­¾"
                       tabindex="0">
                        <div class="flex items-center">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2" width="18" height="18"></iconify-icon>
                            æ ‡ç­¾
                        </div>
                    </a>
                
                    <a href="/friends/" 
                       class="block px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"
                       aria-label="å‹é“¾"
                       tabindex="0">
                        <div class="flex items-center">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2" width="18" height="18"></iconify-icon>
                            å‹é“¾
                        </div>
                    </a>
                
            </div>
        </div>
    </div>
</header>

<script>
    
    document.getElementById('mobile-menu-button').addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenu.classList.toggle('hidden');
    });
    
    
    document.getElementById('theme-toggle').addEventListener('click', function() {
        if (document.documentElement.classList.contains('dark')) {
            document.documentElement.classList.remove('dark');
            localStorage.setItem('color-theme', 'light');
        } else {
            document.documentElement.classList.add('dark');
            localStorage.setItem('color-theme', 'dark');
        }
    });
    
    
    window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        if (window.scrollY > 10) {
            header.classList.add('shadow-lg', 'bg-white/95', 'backdrop-blur-sm', 'dark:bg-gray-800/95');
        } else {
            header.classList.remove('shadow-lg', 'bg-white/95', 'backdrop-blur-sm', 'dark:bg-gray-800/95');
        }
    });
</script> 
        
        <main class="container mx-auto px-4 py-8 flex-grow">
            
<div class="container mx-auto px-4 sm:px-6 relative">
    <div class="flex flex-col lg:flex-row lg:gap-8">
        
        <article class="w-full lg:w-3/4 bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 lg:p-8 mb-8 border border-gray-100 dark:border-gray-700">
            
            <nav class="text-sm text-gray-600 dark:text-gray-400 mb-4" aria-label="é¢åŒ…å±‘å¯¼èˆª">
    <ol class="flex flex-wrap items-center" itemscope itemtype="https://schema.org/BreadcrumbList">
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a href="https://blog.cmdragon.cn/" class="hover:text-primary dark:hover:text-primary-light transition-colors" itemprop="item" aria-label="é¦–é¡µ">
                <span itemprop="name">é¦–é¡µ</span>
            </a>
            <meta itemprop="position" content="1" />
        </li>
        
        
        
            
                <li class="mx-2">/</li>
                <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a href="https://blog.cmdragon.cn/posts" class="hover:text-primary dark:hover:text-primary-light transition-colors" itemprop="item" aria-label="Posts">
                        <span itemprop="name">Posts</span>
                    </a>
                    <meta itemprop="position" content="2" />
                </li>
                <li class="mx-2">/</li>
                <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <span class="text-gray-800 dark:text-gray-200" itemprop="name" title="ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç†">ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç†...</span>
                    <meta itemprop="position" content="3" />
                </li>
            
        
    </ol>
</nav> 
            
            <header class="mb-8 border-b border-gray-100 dark:border-gray-700 pb-6">
                <h1 class="text-3xl md:text-4xl font-bold mb-4 text-gray-900 dark:text-white leading-tight">ç†è§£Vue 3å“åº”å¼ç³»ç»ŸåŸç†</h1>
                
                <div class="flex flex-wrap items-center text-sm text-gray-500 dark:text-gray-400 gap-3">
                    <span class="flex items-center bg-gray-100 dark:bg-gray-700 px-3 py-1.5 rounded-full">
                        <iconify-icon icon="mdi:calendar" class="mr-1" width="16" height="16"></iconify-icon>
                        2024-05-28
                    </span>
                    
                    
                        <span class="flex items-center bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 px-3 py-1.5 rounded-full">
                            <iconify-icon icon="mdi:folder" class="mr-1" width="16" height="16"></iconify-icon>
                            
                                
                                <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91" class="hover:text-primary transition-colors">
                                    å‰ç«¯å¼€å‘
                                </a>
                            
                        </span>
                    
                    
                    
                    <span class="flex items-center bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 px-3 py-1.5 rounded-full">
                        <iconify-icon icon="mdi:clock-outline" class="mr-1" width="16" height="16"></iconify-icon>
                        22 åˆ†é’Ÿé˜…è¯»
                    </span>
                    
                    
                    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed" target="_blank" rel="noopener noreferrer" 
                       class="flex items-center bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 px-3 py-1.5 rounded-full hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors"
                       aria-label="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 License" 
                       tabindex="0">
                        <iconify-icon icon="simple-icons:creativecommons" width="16" height="16" class="mr-1"></iconify-icon>
                        <iconify-icon icon="simple-icons:creativecommonsbysa" width="16" height="16" class="mr-1"></iconify-icon>
                        <iconify-icon icon="simple-icons:creativecommonsnc" width="16" height="16" class="mr-1"></iconify-icon>
                        <span>BY-NC-SA 4.0</span>
                    </a>
                </div>
            </header>
            
            
            <div class="article-content prose dark:prose-invert lg:prose-lg max-w-none mb-8 leading-relaxed">
                <img src="https://static.cmdragon.cn/blog/images/2024_05_28 15_46_34.png@blog" title="2024_05_28 15_46_34.png" alt="2024_05_28 15_46_34.png"/>
<h2 id="ç¬¬ä¸€ç« vue-3ç®€ä»‹">ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹</h2>
<h3 id="11-vue-3æ¦‚è¿°">1.1 Vue 3æ¦‚è¿°</h3>
<ul>
<li>Vue 3çš„è¯ç”ŸèƒŒæ™¯ï¼šVue 2çš„å±€é™ä¸æ”¹è¿›éœ€æ±‚</li>
<li>Vue 3çš„ä¸»è¦ç‰ˆæœ¬å‘å¸ƒæ—¥æœŸå’Œç›®æ ‡ï¼šç¨³å®šæ€§å’Œæ€§èƒ½çš„æå‡</li>
</ul>
<h3 id="12-vue-3çš„æ–°ç‰¹æ€§">1.2 Vue 3çš„æ–°ç‰¹æ€§</h3>
<ul>
<li><strong>TypeScriptæ”¯æŒ</strong>ï¼šå¼•å…¥TypeScriptä½œä¸ºå®˜æ–¹æ¨èçš„å¼€å‘è¯­è¨€ï¼Œå¢å¼ºäº†ç±»å‹å®‰å…¨æ€§å’Œä»£ç è´¨é‡ã€‚</li>
<li><strong>SFCï¼ˆSingle File Componentï¼‰çš„ä¼˜åŒ–</strong>ï¼šæ›´ç®€æ´çš„è¯­æ³•ï¼Œå¦‚å¼•å…¥æ¨¡æ¿ç‰‡æ®µã€JSXæ”¯æŒï¼Œä»¥åŠæ›´çµæ´»çš„ç»„ä»¶ç»“æ„ã€‚</li>
<li><strong>Composition API</strong>ï¼šå–ä»£options APIï¼Œæä¾›æ›´æ¨¡å—åŒ–ã€å¯ç»„åˆçš„ç»„ä»¶å¼€å‘æ–¹å¼ã€‚</li>
<li><strong>Refå’ŒReactive</strong>ï¼šæ–°çš„æ•°æ®ç®¡ç†æ–¹å¼ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ã€‚</li>
<li><strong>è™šæ‹ŸDOMçš„ä¼˜åŒ–</strong>ï¼šVue 3ä½¿ç”¨æ–°çš„ç¼–è¯‘å™¨ï¼Œæå‡äº†æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§å‹åº”ç”¨å’Œå¤æ‚ç»„ä»¶ä¸­çš„æ¸²æŸ“é€Ÿåº¦ã€‚</li>
<li><strong>æœåŠ¡æ’æ§½ï¼ˆSlots as Functionsï¼‰</strong> ï¼šæä¾›æ›´çµæ´»çš„æ’æ§½ç®¡ç†ï¼Œç®€åŒ–ç»„ä»¶é—´é€šä¿¡ã€‚</li>
<li><strong>SSRï¼ˆServer-Side Renderingï¼‰</strong> ï¼šæ”¯æŒæ›´é«˜æ•ˆçš„æœåŠ¡å™¨æ¸²æŸ“ï¼Œæå‡äº†SEOå’Œæ€§èƒ½ã€‚</li>
</ul>
<h3 id="13-vue-3çš„æ¶æ„è®¾è®¡">1.3 Vue 3çš„æ¶æ„è®¾è®¡</h3>
<ul>
<li><strong>Vue 3çš„æ ¸å¿ƒç»„ä»¶</strong>ï¼šVueå®ä¾‹ã€æ¨¡æ¿ç¼–è¯‘å™¨ã€å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ã€‚</li>
<li><strong>ç»„ä»¶åŒ–è®¾è®¡</strong>ï¼šå¦‚ä½•é€šè¿‡Composition APIæ„å»ºå¯å¤ç”¨ã€å¯ç»„åˆçš„ç»„ä»¶ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šVue 3å¦‚ä½•ä¿æŒå¼€æ”¾æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒ…æ‹¬æ’ä»¶ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹åº“çš„å…¼å®¹æ€§ã€‚</li>
<li><strong>ç¤¾åŒºå’Œç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šVue 3çš„ç¤¾åŒºæ´»è·ƒåº¦ï¼Œä»¥åŠç”Ÿæ€ç³»ç»Ÿä¸­æä¾›çš„å„ç§å·¥å…·å’Œåº“ã€‚</li>
</ul>
<h2 id="ç¬¬äºŒç« å“åº”å¼ç³»ç»Ÿæ¦‚è¿°">ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿°</h2>
<h3 id="21-å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰">2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰</h3>
<ul>
<li>å“åº”å¼ç³»ç»Ÿï¼šæ˜¯ä¸€ç§æ•°æ®ç»‘å®šæœºåˆ¶ï¼Œåœ¨æ•°æ®æ¨¡å‹å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨æ›´æ–°è§†å›¾ã€‚</li>
<li>åœ¨Vueä¸­ï¼Œå“åº”å¼ç³»ç»ŸåŸºäºæ•°æ®åŠ«æŒå’Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°ã€‚</li>
</ul>
<h3 id="22-å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿">2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿</h3>
<ul>
<li>è‡ªåŠ¨åŒæ­¥æ•°æ®å’Œè§†å›¾ï¼šå¼€å‘äººå‘˜æ— éœ€æ‰‹åŠ¨æ›´æ–°è§†å›¾ï¼Œæé«˜å¼€å‘æ•ˆç‡å’Œä»£ç å¯ç»´æŠ¤æ€§ã€‚
ADï¼š<a href="https://comic.cmdragon.cn:2087/">æ¼«ç”»é¦–é¡µ</a></li>
<li>é«˜æ€§èƒ½ï¼šé€šè¿‡æ•°æ®åŠ«æŒå’ŒDiffç®—æ³•ï¼Œåœ¨æ•°æ®æ›´æ–°æ—¶ä»…æ›´æ–°å¿…è¦çš„DOMå…ƒç´ ï¼Œå‡å°‘é‡ç»˜å’Œå›æµã€‚</li>
</ul>
<h3 id="23-vue-3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹">2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹</h3>
<ul>
<li><strong>Proxy vs Object.defineProperty</strong>ï¼šVue 3ä½¿ç”¨Proxyä»£æ›¿Object.definePropertyï¼Œè§£å†³äº†Object.definePropertyçš„å±€é™æ€§ï¼Œå¦‚åªèƒ½ç›‘å¬å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½ç›‘å¬æ•´ä¸ªå¯¹è±¡ã€‚</li>
<li><strong>Refå’ŒReactive</strong>ï¼šVue 3ä¸­ï¼Œrefç”¨äºç›´æ¥æ“ä½œåŸå§‹å€¼ï¼Œè€Œreactiveç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡ï¼Œæä¾›æ›´çµæ´»çš„æ•°æ®ç®¡ç†æ–¹å¼ã€‚</li>
<li><strong>å“åº”å¼ç³»ç»Ÿçš„API</strong>ï¼šVue 3æä¾›äº†ä¸€ç³»åˆ—APIï¼Œç”¨äºç®¡ç†å’Œæ“ä½œå“åº”å¼æ•°æ®ï¼Œå¦‚ã€ğ‘ ğ‘’ğ‘¡ã€deleteã€$watchç­‰ã€‚</li>
</ul>
<h2 id="ç¬¬ä¸‰ç« å“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç†">ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç†</h2>
<h3 id="31-æ•°æ®åŠ«æŒ">3.1 æ•°æ®åŠ«æŒ</h3>
<ul>
<li>æ•°æ®åŠ«æŒæ˜¯å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡æ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–å’Œè®¾ç½®æ“ä½œï¼Œå®ç°å¯¹æ•°æ®çš„ç›‘æ§ã€‚</li>
<li>åœ¨Vue 2ä¸­ï¼Œæ•°æ®åŠ«æŒä¸»è¦é€šè¿‡<code>Object.defineProperty</code>å®ç°ï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œåˆ™ä½¿ç”¨<code>Proxy</code>å¯¹è±¡æ¥å®ç°æ›´å¼ºå¤§çš„æ•°æ®åŠ«æŒåŠŸèƒ½ã€‚</li>
<li><code>Proxy</code>å¯ä»¥ç›‘å¬å¯¹è±¡çš„ä»»ä½•å±æ€§å˜åŒ–ï¼ŒåŒ…æ‹¬æ–°å¢å’Œåˆ é™¤å±æ€§ï¼Œè€Œ<code>Object.defineProperty</code>åªèƒ½ç›‘å¬å·²å­˜åœ¨çš„å±æ€§ã€‚</li>
</ul>
<h3 id="32-ä¾èµ–æ”¶é›†">3.2 ä¾èµ–æ”¶é›†</h3>
<ul>
<li>ä¾èµ–æ”¶é›†æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯»å–æ—¶ï¼Œè®°å½•å“ªäº›ç»„ä»¶æˆ–ä»£ç ä¾èµ–äºè¯¥æ•°æ®ã€‚è¿™æ ·ï¼Œå½“æ•°æ®å˜åŒ–æ—¶ï¼Œå¯ä»¥ç²¾ç¡®åœ°é€šçŸ¥åˆ°ä¾èµ–å®ƒçš„ç»„ä»¶æˆ–ä»£ç ã€‚</li>
<li>Vueä½¿ç”¨Watcherå¯¹è±¡æ¥æ”¶é›†ä¾èµ–ã€‚å½“ç»„ä»¶æ¸²æŸ“æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªWatcherå®ä¾‹ï¼Œè¯¥å®ä¾‹ä¼šè¯»å–å“åº”å¼æ•°æ®ï¼Œä»è€Œè§¦å‘æ•°æ®çš„getterï¼Œè¿›è€Œå°†Watcheræ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ã€‚</li>
</ul>
<h3 id="33-æ´¾å‘æ›´æ–°">3.3 æ´¾å‘æ›´æ–°</h3>
<ul>
<li>æ´¾å‘æ›´æ–°æ˜¯æŒ‡åœ¨æ•°æ®å˜åŒ–æ—¶ï¼Œé€šçŸ¥æ‰€æœ‰ä¾èµ–è¯¥æ•°æ®çš„Watcherè¿›è¡Œæ›´æ–°ã€‚</li>
<li>åœ¨Vueä¸­ï¼Œå½“æ•°æ®è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè§¦å‘setterï¼Œè¿›è€Œè§¦å‘ä¾èµ–åˆ—è¡¨ä¸­çš„æ‰€æœ‰Watcherçš„æ›´æ–°å‡½æ•°ï¼Œä½¿å¾—ä¾èµ–è¯¥æ•°æ®çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</li>
<li>Vue 3é€šè¿‡å¼•å…¥<code>effect</code>å‡½æ•°å’Œ<code>scheduler</code>è°ƒåº¦å™¨ï¼Œä¼˜åŒ–äº†æ´¾å‘æ›´æ–°çš„è¿‡ç¨‹ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ›´æ–°æ—¶æœºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ã€‚</li>
</ul>
<h2 id="ç¬¬å››ç« å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒapi">ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI</h2>
<h3 id="41-reactive">4.1 reactive</h3>
<ul>
<li><code>reactive</code>å‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼å¯¹è±¡çš„APIã€‚</li>
<li>å®ƒæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¯¹è±¡ã€‚</li>
<li>å“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œä¸”å¯ä»¥é€šè¿‡<code>ref</code>æˆ–<code>reactive</code>åˆ›å»ºçš„å“åº”å¼å¯¹è±¡æ˜¯â€œåµŒå¥—â€çš„ï¼Œå³å†…éƒ¨çš„å¯¹è±¡ä¹Ÿæ˜¯å“åº”å¼çš„ã€‚</li>
<li>ä½¿ç”¨<code>reactive</code>æ—¶ï¼Œæ¨èç”¨äºå¯¹è±¡ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“å¯¹è±¡å±‚æ¬¡è¾ƒæ·±æ—¶ã€‚</li>
</ul>
<h3 id="42-ref">4.2 ref</h3>
<ul>
<li><code>ref</code>å‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºå“åº”å¼åŸºæœ¬æ•°æ®çš„APIã€‚</li>
<li>å®ƒæ¥å—ä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ç­‰ï¼‰æˆ–å¯¹è±¡ç±»å‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„å¼•ç”¨å¯¹è±¡ã€‚ADï¼š<a href="https://cmdragon.cn/">é¦–é¡µ | ä¸€ä¸ªè¦†ç›–å¹¿æ³›ä¸»é¢˜å·¥å…·çš„é«˜æ•ˆåœ¨çº¿å¹³å°</a></li>
<li>å“åº”å¼å¼•ç”¨å¯¹è±¡æœ‰ä¸€ä¸ª<code>.value</code>å±æ€§ï¼Œç”¨äºè®¿é—®æˆ–ä¿®æ”¹å†…éƒ¨çš„æ•°æ®ã€‚</li>
<li>ä½¿ç”¨<code>ref</code>æ—¶ï¼Œæ¨èç”¨äºåŸºæœ¬ç±»å‹æ•°æ®ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®å˜åŒ–ä¸å¤æ‚æ—¶ã€‚</li>
</ul>
<h3 id="43-computed">4.3 computed</h3>
<ul>
<li><code>computed</code>å‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºåˆ›å»ºè®¡ç®—å±æ€§çš„APIã€‚</li>
<li>å®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœã€‚</li>
<li>è®¡ç®—å±æ€§æ˜¯åŸºäºå…¶ä¾èµ–é¡¹çš„å“åº”å¼æ•°æ®è‡ªåŠ¨æ›´æ–°çš„ã€‚</li>
<li>å½“ä¾èµ–é¡¹ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®¡ç®—å±æ€§ä¼šé‡æ–°è®¡ç®—å¹¶è¿”å›æ–°çš„ç»“æœã€‚</li>
<li>è®¡ç®—å±æ€§é€‚åˆç”¨äºå¤æ‚çš„é€»è¾‘è®¡ç®—å’Œæ•°æ®å¤„ç†ã€‚</li>
</ul>
<h3 id="44-watch">4.4 watch</h3>
<ul>
<li><code>watch</code>å‡½æ•°æ˜¯Vue 3ä¸­ç”¨äºä¾¦å¬å“åº”å¼æ•°æ®å˜åŒ–çš„APIã€‚</li>
<li>å®ƒæ¥å—ä¸€ä¸ªéœ€è¦ä¾¦å¬çš„æ•°æ®ï¼ˆæˆ–è®¡ç®—å±æ€§ï¼‰ä½œä¸ºå‚æ•°ï¼Œä»¥åŠä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</li>
<li>å½“ä¾¦å¬çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°ä¼šè¢«æ‰§è¡Œã€‚</li>
<li><code>watch</code>å¯ä»¥ç”¨äºä¾¦å¬å•ä¸ªæ•°æ®æˆ–å¤šä¸ªæ•°æ®çš„å˜åŒ–ã€‚</li>
<li>ä¾¦å¬å™¨å¯ä»¥æä¾›é¢å¤–çš„é€‰é¡¹ï¼Œå¦‚<code>deep</code>ï¼ˆæ·±åº¦ç›‘å¬ï¼‰ã€<code>immediate</code>ï¼ˆç«‹å³æ‰§è¡Œå›è°ƒï¼‰ç­‰ã€‚</li>
</ul>
<h2 id="ç¬¬äº”ç« å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ–">ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ–</h2>
<h3 id="51-é™æ€æå‡static-optimization">5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰</h3>
<ul>
<li>Vue 3é€šè¿‡â€œé™æ€æå‡â€ï¼ˆSFC Shallow Renderingï¼‰æ¥ä¼˜åŒ–åˆå§‹æ¸²æŸ“æ€§èƒ½ã€‚å½“ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒVue ä¼šå°è¯•ä»…æ¸²æŸ“ç»„ä»¶çš„é¡¶å±‚æ¨¡æ¿ï¼Œè€Œä¸æ˜¯é€’å½’æ¸²æŸ“æ‰€æœ‰åµŒå¥—çš„ç»„ä»¶ã€‚è¿™å‡å°‘äº†åˆå§‹æ¸²æŸ“æ—¶çš„DOMæ“ä½œå’Œè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹ç»„ä»¶æ ‘ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚</li>
</ul>
<h3 id="52-äº‹ä»¶ç›‘å¬ç¼“å­˜event-listener-caching">5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰</h3>
<ul>
<li>Vue é€šè¿‡äº‹ä»¶ç›‘å¬ç¼“å­˜æ¥ä¼˜åŒ–äº‹ä»¶å¤„ç†ã€‚å½“ä¸€ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œå®ƒä¼šç¼“å­˜ç‰¹å®šç±»å‹çš„äº‹ä»¶å¤„ç†å™¨ï¼Œè€Œä¸æ˜¯æ¯æ¬¡äº‹ä»¶è§¦å‘æ—¶éƒ½é‡æ–°åˆ›å»ºã€‚è¿™å‡å°‘äº†äº‹ä»¶å¤„ç†å‡½æ•°çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸­ï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ€§èƒ½å¼€é”€ã€‚</li>
</ul>
<h3 id="53-å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ–">5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ–</h3>
<ul>
<li>
<p>Vue 3çš„å“åº”å¼ç³»ç»Ÿå¯¹äºæ•°æ®çš„ä¾èµ–è·Ÿè¸ªå’Œæ›´æ–°æ˜¯é«˜æ•ˆçš„ï¼Œä½†ä¹Ÿå¯èƒ½å­˜åœ¨ä¸€äº›ä¼˜åŒ–ç‚¹ï¼š</p>
<ul>
<li><strong>æ·±åº¦è§‚å¯Ÿ</strong>ï¼šVueçš„<code>deep</code>é€‰é¡¹å¯ä»¥å¯ç”¨æ·±åº¦è§‚å¯Ÿï¼Œä½†è¿™ä¼šå¢åŠ å†…å­˜å ç”¨å’Œæ€§èƒ½å¼€é”€ï¼Œå¯¹äºä¸éœ€è¦æ·±åº¦è§‚å¯Ÿçš„å¯¹è±¡ï¼Œåº”é¿å…ä½¿ç”¨<code>deep</code>ã€‚</li>
<li><strong>æ‡’æƒ°è®¡ç®—</strong>ï¼š<code>reactive</code>å’Œ<code>ref</code>é»˜è®¤æ˜¯æƒ°æ€§è®¡ç®—çš„ï¼Œåªæœ‰åœ¨é¦–æ¬¡è®¿é—®æ—¶æ‰ä¼šåˆå§‹åŒ–å“åº”ã€‚è¿™å¯ä»¥å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€‚</li>
<li><strong>æ‰‹åŠ¨è§£ç»‘</strong>ï¼šå¯¹äºä¸å†éœ€è¦ç›‘å¬çš„å“åº”å¼æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code>unwatch</code>æˆ–<code>off</code>æ–¹æ³•æ‰‹åŠ¨è§£ç»‘ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
</li>
</ul>
<h2 id="ç¬¬å…­ç« å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨">ç¬¬å…­ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„åº”ç”¨</h2>
<h3 id="61-å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨åœºæ™¯">6.1 å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨åœºæ™¯</h3>
<ul>
<li>æ•°æ®åŒå‘ç»‘å®šï¼šVueçš„å“åº”å¼ç³»ç»Ÿå¯ä»¥å®ç°æ•°æ®å’Œè§†å›¾ä¹‹é—´çš„åŒå‘ç»‘å®šï¼Œç®€åŒ–æ•°æ®æ›´æ–°å’Œè§†å›¾æ¸²æŸ“ã€‚</li>
<li>æ•°æ®é©±åŠ¨çš„åŠ¨æ€æ¸²æŸ“ï¼šVueå¯ä»¥æ ¹æ®æ•°æ®çš„å˜åŒ–åŠ¨æ€æ¸²æŸ“è§†å›¾ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œDOMï¼Œæå‡å¼€å‘æ•ˆç‡å’Œåº”ç”¨å¯ç»´æŠ¤æ€§ã€‚</li>
<li>çŠ¶æ€ç®¡ç†ï¼šVueçš„å“åº”å¼ç³»ç»Ÿå¯ä»¥ä½œä¸ºçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œç®¡ç†åº”ç”¨çš„å…¨å±€çŠ¶æ€ï¼Œå¹¶åœ¨ç»„ä»¶ä¹‹é—´é€šè¿‡Propså’ŒEventé€šä¿¡ã€‚
ADï¼š<a href="https://movie.cmdragon.cn:2083/">ä¸“ä¸šæœç´¢å¼•æ“</a></li>
<li>æ•°æ®å¯è§†åŒ–ï¼šVueå¯ä»¥å°†æ•°æ®å¯è§†åŒ–ä¸ºå›¾è¡¨ã€è¡¨æ ¼ç­‰å½¢å¼ï¼Œä½¿ç”¨å“åº”å¼ç³»ç»Ÿå®æ—¶æ›´æ–°æ•°æ®ï¼Œæä¾›å³æ—¶åé¦ˆã€‚</li>
</ul>
<h3 id="62-å“åº”å¼ç³»ç»Ÿçš„æœ€ä½³å®è·µ">6.2 å“åº”å¼ç³»ç»Ÿçš„æœ€ä½³å®è·µ</h3>
<ul>
<li>é¿å…è¿‡åº¦ä½¿ç”¨<code>watch</code>ï¼š<code>watch</code>å¯ä»¥ç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œä½†è¿‡åº¦ä½¿ç”¨ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨è®¡ç®—å±æ€§å’Œæ¡ä»¶æ¸²æŸ“ã€‚</li>
<li>ä½¿ç”¨<code>computed</code>è®¡ç®—å±æ€§ï¼šè®¡ç®—å±æ€§å¯ä»¥ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ï¼Œæå‡æ€§èƒ½ã€‚</li>
<li>ä½¿ç”¨<code>v-if</code>å’Œ<code>v-for</code>ä¼˜åŒ–æ¸²æŸ“ï¼šä½¿ç”¨<code>v-if</code>å’Œ<code>v-for</code>å¯ä»¥æœ‰æ¡ä»¶åœ°æ¸²æŸ“ç»„ä»¶ï¼Œé¿å…ä¸å¿…è¦çš„æ¸²æŸ“ï¼Œæå‡æ€§èƒ½ã€‚</li>
<li>å‡å°‘å“åº”å¼æ•°æ®çš„æ•°é‡ï¼šè¿‡å¤šçš„å“åº”å¼æ•°æ®ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œåº”è¯¥å°½é‡å‡å°‘å“åº”å¼æ•°æ®çš„æ•°é‡ï¼Œé¿å…ä¸å¿…è¦çš„ç›‘å¬å’Œæ›´æ–°ã€‚</li>
<li>ä½¿ç”¨<code>v-memo</code>ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“ï¼š<code>v-memo</code>å¯ä»¥ç¼“å­˜åˆ—è¡¨é¡¹çš„æ¸²æŸ“ç»“æœï¼Œé¿å…é‡å¤æ¸²æŸ“ï¼Œæå‡æ€§èƒ½ã€‚</li>
</ul>
<h2 id="ç¬¬ä¸ƒç« å“åº”å¼ç³»ç»Ÿçš„è°ƒè¯•">ç¬¬ä¸ƒç« ï¼šå“åº”å¼ç³»ç»Ÿçš„è°ƒè¯•</h2>
<h3 id="71-è°ƒè¯•å·¥å…·çš„ä½¿ç”¨">7.1 è°ƒè¯•å·¥å…·çš„ä½¿ç”¨</h3>
<ul>
<li>Vue Devtoolsï¼šè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºVue.jsè®¾è®¡çš„æµè§ˆå™¨æ‰©å±•ï¼Œå…è®¸å¼€å‘è€…æ£€æŸ¥ç»„ä»¶å±‚æ¬¡ç»“æ„ã€è§‚å¯Ÿç»„ä»¶çŠ¶æ€ã€æŸ¥çœ‹äº‹ä»¶ã€ç¼–è¾‘å±æ€§ç­‰ã€‚å®ƒå¯¹äºç†è§£åº”ç”¨çš„å“åº”å¼è¡Œä¸ºéå¸¸æœ‰å¸®åŠ©ã€‚</li>
<li>æ§åˆ¶å°ï¼ˆConsoleï¼‰ï¼šåœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­ï¼Œæ§åˆ¶å°å¯ä»¥ç”¨æ¥è¾“å‡ºè°ƒè¯•ä¿¡æ¯ï¼Œå¦‚æ‰“å°å˜é‡çš„å€¼ã€è°ƒç”¨ç»„ä»¶çš„æ–¹æ³•ç­‰ã€‚</li>
<li>æ–­ç‚¹è°ƒè¯•ï¼šåœ¨ä»£ç ä¸­è®¾ç½®æ–­ç‚¹ï¼Œå¯ä»¥åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æš‚åœä»£ç æ‰§è¡Œï¼Œå…è®¸å¼€å‘è€…é€æ­¥æ‰§è¡Œä»£ç ï¼Œæ£€æŸ¥å˜é‡çš„çŠ¶æ€å’Œä»£ç æµç¨‹ã€‚</li>
<li>æ€§èƒ½åˆ†æå·¥å…·ï¼šå¦‚Chromeçš„Performanceé¢æ¿ï¼Œå¯ä»¥ç”¨æ¥åˆ†æåº”ç”¨çš„æ€§èƒ½ï¼ŒåŒ…æ‹¬å“åº”å¼ç³»ç»Ÿçš„æ›´æ–°é¢‘ç‡å’Œæ•ˆç‡ã€‚</li>
</ul>
<h3 id="72-å¸¸è§é—®é¢˜çš„æ’æŸ¥">7.2 å¸¸è§é—®é¢˜çš„æ’æŸ¥</h3>
<ul>
<li>å“åº”å¼æ•°æ®æœªæ›´æ–°ï¼šæ£€æŸ¥æ•°æ®æ˜¯å¦æ­£ç¡®åœ°è¢«Vueå®ä¾‹ä»£ç†ï¼Œç¡®ä¿æ•°æ®æ˜¯é€šè¿‡Vueå®ä¾‹çš„å±æ€§è¿›è¡Œè®¿é—®å’Œä¿®æ”¹çš„ã€‚</li>
<li>è®¡ç®—å±æ€§æœªé‡æ–°è®¡ç®—ï¼šç¡®ä¿è®¡ç®—å±æ€§çš„ä¾èµ–åˆ—è¡¨ä¸­çš„å“åº”å¼æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œå¦åˆ™è®¡ç®—å±æ€§ä¸ä¼šé‡æ–°è®¡ç®—ã€‚</li>
<li>è§‚å¯Ÿè€…ï¼ˆWatcherï¼‰æœªè§¦å‘ï¼šæ£€æŸ¥è§‚å¯Ÿè€…æ˜¯å¦æ­£ç¡®åœ°ç›‘å¬äº†å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œä»¥åŠæ˜¯å¦å­˜åœ¨å¼‚æ­¥æ“ä½œå¯¼è‡´å˜åŒ–æœªè¢«åŠæ—¶æ£€æµ‹ã€‚</li>
<li>ç»„ä»¶æœªé‡æ–°æ¸²æŸ“ï¼šæ£€æŸ¥ç»„ä»¶çš„æ¸²æŸ“æ¡ä»¶ï¼Œå¦‚<code>v-if</code>ã€<code>v-show</code>ç­‰æŒ‡ä»¤æ˜¯å¦æ­£ç¡®è®¾ç½®ï¼Œä»¥åŠç»„ä»¶çš„å“åº”å¼æ•°æ®æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ã€‚</li>
<li>æ€§èƒ½é—®é¢˜ï¼šå¦‚æœåº”ç”¨å“åº”ç¼“æ…¢ï¼Œä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·æ£€æŸ¥æ˜¯å¦æœ‰ä¸å¿…è¦çš„å“åº”å¼æ•°æ®æ›´æ–°ï¼Œæˆ–è€…æ˜¯å¦æœ‰è®¡ç®—å¯†é›†å‹çš„è®¡ç®—å±æ€§ã€‚</li>
</ul>
<h2 id="é™„å½•ä¸€vue-3å“åº”å¼ç³»ç»Ÿçš„æºç åˆ†æ">é™„å½•ä¸€ï¼šVue 3å“åº”å¼ç³»ç»Ÿçš„æºç åˆ†æ</h2>
<p>è¦æ·±å…¥ç†è§£Vue 3çš„å“åº”å¼ç³»ç»Ÿï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯åˆ†æå…¶æºç ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åˆ†æVue 3å“åº”å¼ç³»ç»Ÿæºç çš„æ­¥éª¤å’Œèµ„æºï¼š</p>
<ol>
<li>
<p><strong>é˜…è¯»å®˜æ–¹æ–‡æ¡£</strong>ï¼šVue 3çš„å®˜æ–¹æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å“åº”å¼ç³»ç»Ÿçš„åŸç†å’ŒAPIï¼Œæ˜¯å­¦ä¹ çš„æœ€ä½³èµ·ç‚¹ã€‚</p>
<ul>
<li>è®¿é—®Vueå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://v3.vuejs.org/">Vue 3 Documentation</a></li>
</ul>
</li>
<li>
<p><strong>æŸ¥çœ‹æºç </strong>ï¼šVue 3çš„æºç æ‰˜ç®¡åœ¨GitHubä¸Šï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹æºç æ¥ç†è§£å…¶å®ç°ç»†èŠ‚ã€‚</p>
<ul>
<li>Vue 3 GitHubæºç ä»“åº“ï¼š<a href="https://github.com/vuejs/vue">Vuejs/vue</a></li>
</ul>
</li>
<li>
<p><strong>é‡ç‚¹æ–‡ä»¶è§£æ</strong>ï¼š</p>
<ul>
<li><code>packages/runtime-core</code>ï¼šåŒ…å«å“åº”å¼ç³»ç»Ÿçš„åŸºç¡€å®ç°ï¼Œå¦‚<code>reactive</code>,Â <code>ref</code>ç­‰ã€‚</li>
<li><code>packages/reactivity</code>ï¼šåŒ…å«å“åº”å¼ç³»ç»Ÿçš„ä¸»è¦å®ç°ï¼Œå¦‚ä¾èµ–è¿½è¸ªã€ä»£ç†ç­‰ã€‚</li>
<li><code>packages/api</code>ï¼šåŒ…å«å“åº”å¼ç³»ç»Ÿçš„APIå®ç°ï¼Œå¦‚<code>watch</code>,Â <code>computed</code>ç­‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è·Ÿéšå®˜æ–¹æ•™ç¨‹</strong>ï¼šVue 3å®˜æ–¹æœ‰æ—¶ä¼šå‘å¸ƒæºç åˆ†æçš„æ•™ç¨‹ï¼Œè·Ÿéšè¿™äº›æ•™ç¨‹å¯ä»¥å¸®åŠ©ç†è§£å“åº”å¼ç³»ç»Ÿçš„å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚</p>
<ul>
<li>æŸ¥æ‰¾Vue 3æºç åˆ†ææ•™ç¨‹ï¼š<a href="https://v3.vuejs.org/guide/source-code-analysis.html">Vue 3 Source Code Analysis Tutorials</a></li>
</ul>
</li>
<li>
<p><strong>å‚ä¸ç¤¾åŒºè®¨è®º</strong>ï¼šåŠ å…¥Vue 3çš„ç¤¾åŒºï¼Œå‚ä¸è®¨è®ºï¼Œå¯ä»¥ä»å…¶ä»–å¼€å‘è€…é‚£é‡Œå­¦ä¹ åˆ°ä¸åŒçš„ç†è§£å’Œåˆ†ææ–¹æ³•ã€‚</p>
<ul>
<li>Vue 3ç¤¾åŒºè®ºå›ï¼š<a href="https://forum.vuejs.org/">Vue 3 Community Forum</a></li>
</ul>
</li>
<li>
<p><strong>ç¼–å†™ç¤ºä¾‹ä»£ç </strong>ï¼šé€šè¿‡ç¼–å†™ç®€å•çš„ç¤ºä¾‹ä»£ç ï¼Œå°è¯•å®ç°å“åº”å¼ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŠ æ·±å¯¹å“åº”å¼åŸç†çš„ç†è§£ã€‚</p>
</li>
</ol>
<h2 id="é™„å½•äºŒå“åº”å¼ç³»ç»Ÿçš„ç›¸å…³èµ„æºæ¨è">é™„å½•äºŒï¼šå“åº”å¼ç³»ç»Ÿçš„ç›¸å…³èµ„æºæ¨è</h2>
<ol>
<li>
<p><strong>Vue.jså®˜æ–¹èµ„æº</strong>ï¼š</p>
<ul>
<li><a href="https://vuejs.org/">Vue.js å®˜æ–¹è‹±æ–‡æ–‡æ¡£</a></li>
<li><a href="https://cn.vuejs.org/">Vue.js å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></li>
</ul>
</li>
<li>
<p><strong>Vue 3 è¿›é˜¶å­¦ä¹ èµ„æº</strong>ï¼š</p>
<ul>
<li><a href="https://v3.vuejs.org/advanced/">Vue 3 Advanced Guides</a></li>
</ul>
</li>
<li>
<p><strong>Vue 3 æºç è§£æ</strong>ï¼š</p>
<ul>
<li><a href="https://github.com/handsome-framework/vue-3-source-analysis">Vue 3 Source Code Analysis</a></li>
</ul>
</li>
<li>
<p><strong>å“åº”å¼ç³»ç»Ÿç›¸å…³ä¹¦ç±</strong>ï¼š</p>
<ul>
<li>ã€ŠVue.jså“åº”å¼åŸç†ä¸å®æˆ˜ã€‹</li>
<li>ã€Šæ·±å…¥ç†è§£Vue.jsã€‹</li>
</ul>
</li>
<li>
<p><strong>åœ¨çº¿è¯¾ç¨‹å’Œè®²åº§</strong>ï¼š</p>
<ul>
<li>åœ¨çº¿æ•™è‚²å¹³å°ï¼Œå¦‚æ…•è¯¾ç½‘ã€æå®¢æ—¶é—´ç­‰ï¼Œç»å¸¸ä¼šæä¾›å…³äºVue 3å“åº”å¼ç³»ç»Ÿçš„è¯¾ç¨‹ã€‚</li>
</ul>
</li>
<li>
<p><strong>GitHubä¸Šçš„å“åº”å¼ç³»ç»Ÿé¡¹ç›®</strong>ï¼š</p>
<ul>
<li>æŸ¥æ‰¾GitHubä¸Šå…¶ä»–å¼€å‘è€…å…³äºVue 3å“åº”å¼ç³»ç»Ÿçš„é¡¹ç›®å’Œæºç åˆ†æï¼Œå¯ä»¥å­¦ä¹ åˆ°ä¸åŒçš„ç†è§£å’Œå®ç°æ–¹æ³•ã€‚</li>
</ul>
</li>
</ol>

            </div>
            
            
            
                <div class="border-t border-gray-200 dark:border-gray-700 pt-6 mt-8">
                    <h3 class="text-lg font-medium mb-4 flex items-center">
                        <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                            <iconify-icon icon="mdi:tag-multiple" width="16" height="16"></iconify-icon>
                        </div>
                        æ ‡ç­¾
                    </h3>
                    <div class="flex flex-wrap gap-2">
                        
                            <a href="/tags/Vue3.x" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: Vue3.x"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>Vue3.x
                            </a>
                        
                            <a href="/tags/TypeScript" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: TypeScript"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>TypeScript
                            </a>
                        
                            <a href="/tags/SFC%E4%BC%98%E5%8C%96" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: SFCä¼˜åŒ–"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>SFCä¼˜åŒ–
                            </a>
                        
                            <a href="/tags/Composition-API" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: Composition-API"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>Composition-API
                            </a>
                        
                            <a href="/tags/RefReactive" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: Ref&amp;Reactive"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>Ref&amp;Reactive
                            </a>
                        
                            <a href="/tags/%E6%80%A7%E8%83%BD%E6%8F%90%E5%8D%87" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: æ€§èƒ½æå‡"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>æ€§èƒ½æå‡
                            </a>
                        
                            <a href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86" 
                            class="bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-full text-sm hover:bg-primary hover:text-white dark:hover:bg-primary dark:hover:text-white transition-colors duration-200"
                            aria-label="æ ‡ç­¾: å“åº”å¼åŸç†"
                            tabindex="0">
                                <iconify-icon icon="mdi:tag" class="mr-1" inline></iconify-icon>å“åº”å¼åŸç†
                            </a>
                        
                    </div>
                </div>
            
            
            
            <nav class="border-t border-gray-200 dark:border-gray-700 pt-6 mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
                
                    <div class="bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl transition-all hover:shadow-md duration-300">
                        <span class="block text-sm text-gray-500 dark:text-gray-400 mb-2 flex items-center">
                            <iconify-icon icon="mdi:arrow-left" class="mr-2" width="16" height="16"></iconify-icon>ä¸Šä¸€ç¯‡
                        </span>
                        <a href="https://blog.cmdragon.cn/posts/08a25c29ceed14c92c89beb55563e922/" class="font-medium text-primary hover:text-primary-dark block" aria-label="ä¸Šä¸€ç¯‡: Vue ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼šæ¢ç´¢é’©å­" tabindex="0">
                            Vue ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼šæ¢ç´¢é’©å­
                        </a>
                    </div>
                
                
                
                    <div class="bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl md:text-right transition-all hover:shadow-md duration-300">
                        <span class="block text-sm text-gray-500 dark:text-gray-400 mb-2 flex items-center md:justify-end">
                            ä¸‹ä¸€ç¯‡<iconify-icon icon="mdi:arrow-right" class="ml-2" width="16" height="16"></iconify-icon>
                        </span>
                        <a href="https://blog.cmdragon.cn/posts/89cac727dc9ef0b595e8feeac10dc501/" class="font-medium text-primary hover:text-primary-dark block" aria-label="ä¸‹ä¸€ç¯‡: Vue3ä½¿ç”¨Composition APIå®ç°å“åº”å¼" tabindex="0">
                            Vue3ä½¿ç”¨Composition APIå®ç°å“åº”å¼
                        </a>
                    </div>
                
            </nav>
            
            
            <div class="border-t border-gray-200 dark:border-gray-700 pt-6 mt-8">
                <h3 class="text-lg font-medium mb-4 flex items-center">
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                        <iconify-icon icon="mdi:share-variant" width="16" height="16"></iconify-icon>
                    </div>
                    åˆ†äº«
                </h3>
                <div class="flex flex-wrap gap-3">
                    <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.cmdragon.cn%2fposts%2f12ece7efaa9c31de1f58457b847bb1ce%2f&text=%e7%90%86%e8%a7%a3Vue%203%e5%93%8d%e5%ba%94%e5%bc%8f%e7%b3%bb%e7%bb%9f%e5%8e%9f%e7%90%86" 
                    target="_blank" rel="noopener noreferrer"
                    class="bg-gradient-to-r from-[#1DA1F2] to-[#0c85d0] text-white px-4 py-2 rounded-lg hover:shadow-md transition-all duration-300"
                    aria-label="åˆ†äº«åˆ° Twitter" tabindex="0">
                        <iconify-icon icon="mdi:twitter" width="20" height="20"></iconify-icon>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.cmdragon.cn%2fposts%2f12ece7efaa9c31de1f58457b847bb1ce%2f" 
                    target="_blank" rel="noopener noreferrer"
                    class="bg-gradient-to-r from-[#1877F2] to-[#0c5cce] text-white px-4 py-2 rounded-lg hover:shadow-md transition-all duration-300"
                    aria-label="åˆ†äº«åˆ° Facebook" tabindex="0">
                        <iconify-icon icon="mdi:facebook" width="20" height="20"></iconify-icon>
                    </a>
                    <a href="https://service.weibo.com/share/share.php?url=https%3a%2f%2fblog.cmdragon.cn%2fposts%2f12ece7efaa9c31de1f58457b847bb1ce%2f&title=%e7%90%86%e8%a7%a3Vue%203%e5%93%8d%e5%ba%94%e5%bc%8f%e7%b3%bb%e7%bb%9f%e5%8e%9f%e7%90%86" 
                    target="_blank" rel="noopener noreferrer"
                    class="bg-gradient-to-r from-[#E6162D] to-[#c01325] text-white px-4 py-2 rounded-lg hover:shadow-md transition-all duration-300"
                    aria-label="åˆ†äº«åˆ°å¾®åš" tabindex="0">
                        <iconify-icon icon="mdi:sina-weibo" width="20" height="20"></iconify-icon>
                    </a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fblog.cmdragon.cn%2fposts%2f12ece7efaa9c31de1f58457b847bb1ce%2f" 
                    target="_blank" rel="noopener noreferrer"
                    class="bg-gradient-to-r from-[#0A66C2] to-[#0850a0] text-white px-4 py-2 rounded-lg hover:shadow-md transition-all duration-300"
                    aria-label="åˆ†äº«åˆ° LinkedIn" tabindex="0">
                        <iconify-icon icon="mdi:linkedin" width="20" height="20"></iconify-icon>
                    </a>
                </div>
            </div>
            
            
            
        </article>
        
        
        
        <aside class="w-full lg:w-1/4">
            
            <button id="mobile-toc-toggle" class="z-50 fixed bottom-4 right-4 z-20 lg:hidden bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                <iconify-icon icon="mdi:table-of-contents" width="24" height="24"></iconify-icon>
            </button>
            
            
            <div id="toc-container" class="lg:sticky lg:top-24 bg-white dark:bg-gray-800 rounded-xl shadow-md p-5 mb-8 transition-all duration-300 border border-gray-100 dark:border-gray-700
                 fixed inset-y-0 right-0 w-72 z-40 transform translate-x-full lg:transform-none lg:relative lg:w-auto
                 lg:overflow-visible flex flex-col">
                <div class="toc-header flex justify-between items-center pb-3 border-b border-gray-100 dark:border-gray-700 lg:mb-4">
                    <h2 class="text-lg font-medium flex items-center">
                        <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                            <iconify-icon icon="mdi:table-of-contents" width="16" height="16"></iconify-icon>
                        </div>
                        ç›®å½•
                    </h2>
                    <div class="flex items-center">
                        <button id="toc-toggle" class="text-gray-500 hover:text-primary transition-colors p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full" aria-label="æŠ˜å ç›®å½•">
                            <iconify-icon id="toc-icon" icon="mdi:chevron-up" width="20" height="20"></iconify-icon>
                        </button>
                        
                        <button id="toc-close" class="ml-1 lg:hidden text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full">
                            <iconify-icon icon="mdi:close" width="20" height="20"></iconify-icon>
                        </button>
                    </div>
                </div>
                <div id="toc-content" class="toc text-sm text-gray-700 dark:text-gray-300 flex-grow overflow-y-auto">
                    <nav id="TableOfContents">
  <ul>
    <li><a href="#ç¬¬ä¸€ç« vue-3ç®€ä»‹">ç¬¬ä¸€ç« ï¼šVue 3ç®€ä»‹</a>
      <ul>
        <li><a href="#11-vue-3æ¦‚è¿°">1.1 Vue 3æ¦‚è¿°</a></li>
        <li><a href="#12-vue-3çš„æ–°ç‰¹æ€§">1.2 Vue 3çš„æ–°ç‰¹æ€§</a></li>
        <li><a href="#13-vue-3çš„æ¶æ„è®¾è®¡">1.3 Vue 3çš„æ¶æ„è®¾è®¡</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬äºŒç« å“åº”å¼ç³»ç»Ÿæ¦‚è¿°">ç¬¬äºŒç« ï¼šå“åº”å¼ç³»ç»Ÿæ¦‚è¿°</a>
      <ul>
        <li><a href="#21-å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰">2.1 å“åº”å¼ç³»ç»Ÿçš„å®šä¹‰</a></li>
        <li><a href="#22-å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿">2.2 å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿</a></li>
        <li><a href="#23-vue-3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹">2.3 Vue 3å“åº”å¼ç³»ç»Ÿçš„ç‰¹ç‚¹</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬ä¸‰ç« å“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç†">ç¬¬ä¸‰ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„å®ç°åŸç†</a>
      <ul>
        <li><a href="#31-æ•°æ®åŠ«æŒ">3.1 æ•°æ®åŠ«æŒ</a></li>
        <li><a href="#32-ä¾èµ–æ”¶é›†">3.2 ä¾èµ–æ”¶é›†</a></li>
        <li><a href="#33-æ´¾å‘æ›´æ–°">3.3 æ´¾å‘æ›´æ–°</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬å››ç« å“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒapi">ç¬¬å››ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„æ ¸å¿ƒAPI</a>
      <ul>
        <li><a href="#41-reactive">4.1 reactive</a></li>
        <li><a href="#42-ref">4.2 ref</a></li>
        <li><a href="#43-computed">4.3 computed</a></li>
        <li><a href="#44-watch">4.4 watch</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬äº”ç« å“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ–">ç¬¬äº”ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŒ–</a>
      <ul>
        <li><a href="#51-é™æ€æå‡static-optimization">5.1 é™æ€æå‡ï¼ˆStatic Optimizationï¼‰</a></li>
        <li><a href="#52-äº‹ä»¶ç›‘å¬ç¼“å­˜event-listener-caching">5.2 äº‹ä»¶ç›‘å¬ç¼“å­˜ï¼ˆEvent Listener Cachingï¼‰</a></li>
        <li><a href="#53-å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ–">5.3 å“åº”å¼å¯¹è±¡çš„ä¼˜åŒ–</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬å…­ç« å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨">ç¬¬å…­ç« ï¼šå“åº”å¼ç³»ç»Ÿçš„åº”ç”¨</a>
      <ul>
        <li><a href="#61-å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨åœºæ™¯">6.1 å“åº”å¼ç³»ç»Ÿçš„åº”ç”¨åœºæ™¯</a></li>
        <li><a href="#62-å“åº”å¼ç³»ç»Ÿçš„æœ€ä½³å®è·µ">6.2 å“åº”å¼ç³»ç»Ÿçš„æœ€ä½³å®è·µ</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬ä¸ƒç« å“åº”å¼ç³»ç»Ÿçš„è°ƒè¯•">ç¬¬ä¸ƒç« ï¼šå“åº”å¼ç³»ç»Ÿçš„è°ƒè¯•</a>
      <ul>
        <li><a href="#71-è°ƒè¯•å·¥å…·çš„ä½¿ç”¨">7.1 è°ƒè¯•å·¥å…·çš„ä½¿ç”¨</a></li>
        <li><a href="#72-å¸¸è§é—®é¢˜çš„æ’æŸ¥">7.2 å¸¸è§é—®é¢˜çš„æ’æŸ¥</a></li>
      </ul>
    </li>
    <li><a href="#é™„å½•ä¸€vue-3å“åº”å¼ç³»ç»Ÿçš„æºç åˆ†æ">é™„å½•ä¸€ï¼šVue 3å“åº”å¼ç³»ç»Ÿçš„æºç åˆ†æ</a></li>
    <li><a href="#é™„å½•äºŒå“åº”å¼ç³»ç»Ÿçš„ç›¸å…³èµ„æºæ¨è">é™„å½•äºŒï¼šå“åº”å¼ç³»ç»Ÿçš„ç›¸å…³èµ„æºæ¨è</a></li>
  </ul>
</nav>
                </div>
            </div>
            
            
            <div id="toc-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden backdrop-blur-sm"></div>
        </aside>
        
    </div>
</div>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>

<link rel="stylesheet" href="/css/markdown.css">
<link rel="stylesheet" href="/css/code-highlight.css">
<script src="/js/code-highlight.js"></script>

<script src="/js/toc.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    console.log('åˆå§‹åŒ–ä»£ç é«˜äº®...');
    if (window.hljs) {
      console.log('highlight.js å·²åŠ è½½');
      document.querySelectorAll('pre code').forEach(function(block) {
        console.log('åº”ç”¨é«˜äº®åˆ°ä»£ç å—');
        hljs.highlightElement(block);
      });
    } else {
      console.error('highlight.js æœªåŠ è½½!');
    }
  });
</script>


<style>
 
#toc-content {
  max-height: none;
}

@media (min-width: 1024px) {
  #toc-content {
    max-height: none;
    overflow: visible;
  }
  
  #toc-container {
    max-height: calc(100vh - 120px);
    overflow-y: auto;
  }
  
  nav#TableOfContents {
    overflow: visible;
  }
}

@media (max-width: 1023px) {
  #toc-container {
    padding-bottom: env(safe-area-inset-bottom, 20px);
    display: flex;
    flex-direction: column;
  }
  
  #toc-content {
    flex: 1;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 20px;
  }
}
</style>

        </main>
        
        <footer class="bg-gradient-to-b from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 shadow-inner py-10 mt-12 border-t border-gray-200 dark:border-gray-700">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
            
            <div>
                <h3 class="text-lg font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                        <iconify-icon icon="mdi:information" width="16" height="16"></iconify-icon>
                    </div>
                    å…³äºæœ¬ç«™
                </h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                    cmdragon&#39;s Blog æ˜¯ä¸€ä¸ªä¸“æ³¨äºç¼–ç¨‹å’ŒæŠ€æœ¯åˆ†äº«çš„ä¸ªæ€§åŒ–ç½‘ç«™ï¼Œæ—¨åœ¨ä¸ºç¼–ç¨‹çˆ±å¥½è€…ã€å­¦ä¹ è€…å’Œä»ä¸šè€…æä¾›å…¨é¢çš„å‰ç«¯å¼€å‘ã€åç«¯å¼€å‘ä»¥åŠå…¨æ ˆå¼€å‘å­¦ä¹ èµ„æºã€‚
                </p>
                <div class="flex space-x-3">
                    
                    <a href="https://github.com/amd794" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 bg-gray-100 dark:bg-gray-700 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600" aria-label="GitHub" tabindex="0" target="_blank" rel="noopener noreferrer">
                        <iconify-icon icon="mdi:github" width="18" height="18"></iconify-icon>
                    </a>
                    
                    
                    <button id="wechat-btn" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 bg-gray-100 dark:bg-gray-700 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600" aria-label="å¾®ä¿¡" tabindex="0">
                        <iconify-icon icon="mdi:wechat" width="18" height="18"></iconify-icon>
                    </button>
                    
                    <a href="mailto:support@cmdragon.cn" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 bg-gray-100 dark:bg-gray-700 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600" aria-label="Email" tabindex="0">
                        <iconify-icon icon="mdi:email" width="18" height="18"></iconify-icon>
                    </a>
                    
                    <a href="/index.xml" class="text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 bg-gray-100 dark:bg-gray-700 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600" aria-label="RSS" tabindex="0">
                        <iconify-icon icon="mdi:rss" width="18" height="18"></iconify-icon>
                    </a>
                </div>
            </div>
            
            
            <div>
                <h3 class="text-lg font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                        <iconify-icon icon="mdi:link-variant" width="16" height="16"></iconify-icon>
                    </div>
                    å¿«é€Ÿé“¾æ¥
                </h3>
                <ul class="space-y-2">
                    <li>
                        <a href="https://movie.cmdragon.cn/" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 flex items-center" target="_blank" rel="noopener noreferrer">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2 text-primary" width="16" height="16"></iconify-icon>
                            é«˜æ¸…å½±è§†åº“
                        </a>
                    </li>
                    <li>
                        <a href="https://comic.cmdragon.cn/" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 flex items-center" target="_blank" rel="noopener noreferrer">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2 text-primary" width="16" height="16"></iconify-icon>
                            ç²¾é€‰æ¼«ç”»é˜…è¯»
                        </a>
                    </li>
                    <li>
                        <a href="https://tools.cmdragon.cn/zh" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 flex items-center" target="_blank" rel="noopener noreferrer">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2 text-primary" width="16" height="16"></iconify-icon>
                            å®ç”¨åœ¨çº¿å·¥å…·
                        </a>
                    </li>
                    <li>
                        <a href="https://hot-movie.cmdragon.cn/" class="text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary transition-colors duration-300 flex items-center" target="_blank" rel="noopener noreferrer">
                            <iconify-icon icon="mdi:chevron-right" class="mr-2 text-primary" width="16" height="16"></iconify-icon>
                            çƒ­æ˜ å½±è§†æ¨è
                        </a>
                    </li>
                </ul>
            </div>
            
            
            <div>
                <h3 class="text-lg font-bold mb-4 text-gray-900 dark:text-white flex items-center">
                    <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2">
                        <iconify-icon icon="mdi:tag-multiple" width="16" height="16"></iconify-icon>
                    </div>
                    çƒ­é—¨æ ‡ç­¾
                </h3>
                <div class="flex flex-wrap gap-2">
                    
                    <a href="https://blog.cmdragon.cn/tags/FastAPI/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #FastAPI <span class="text-xs opacity-70">(85)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/Nuxt/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #Nuxt <span class="text-xs opacity-70">(68)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E9%92%A9%E5%AD%90/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #é’©å­ <span class="text-xs opacity-70">(62)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #æ€§èƒ½ä¼˜åŒ– <span class="text-xs opacity-70">(47)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/Nuxt.js/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #Nuxt.js <span class="text-xs opacity-70">(43)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #ç”Ÿå‘½å‘¨æœŸ <span class="text-xs opacity-70">(38)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/Nuxt3/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #Nuxt3 <span class="text-xs opacity-70">(37)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #é”™è¯¯å¤„ç† <span class="text-xs opacity-70">(32)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E7%BB%84%E4%BB%B6/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #ç»„ä»¶ <span class="text-xs opacity-70">(29)</span>
                    </a>
                    
                    <a href="https://blog.cmdragon.cn/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86/" class="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary hover:text-white transition-colors duration-300">
                        #æ•°æ®åº“ç®¡ç† <span class="text-xs opacity-70">(27)</span>
                    </a>
                    
                </div>
            </div>
        </div>
        
        <div class="border-t border-gray-200 dark:border-gray-700 pt-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <p class="text-sm text-gray-600 dark:text-gray-400">
                        &copy; 2023 cmdragon&#39;s Blog. ä¿ç•™æ‰€æœ‰æƒåˆ©.
                    </p>
                    <p class="text-xs text-gray-500 dark:text-gray-500 mt-1">
                        ç”± <a href="https://gohugo.io/" class="hover:text-primary transition-colors duration-300" target="_blank" rel="noopener noreferrer">Hugo</a> å¼ºåŠ›é©±åŠ¨
                    </p>
                </div>
                
                
                <button id="back-to-top" class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center text-sm font-medium">
                    <iconify-icon icon="mdi:arrow-up" class="mr-1" width="16" height="16"></iconify-icon>
                    è¿”å›é¡¶éƒ¨
                </button>
            </div>
        </div>
    </div>
    
    
    <div id="wechat-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden" onclick="this.classList.add('hidden')">
        <div class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-xl max-w-sm w-full relative" onclick="event.stopPropagation()">
            <button class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200" onclick="document.getElementById('wechat-modal').classList.add('hidden')">
                <iconify-icon icon="mdi:close" width="20" height="20"></iconify-icon>
            </button>
            <h4 class="text-center font-medium text-gray-800 dark:text-gray-200 mb-4">æ‰«ç å…³æ³¨å…¬ä¼—å·</h4>
            <div class="flex justify-center">
                <img src="/images/wechat_qrcode.webp" alt="å¾®ä¿¡äºŒç»´ç " class="w-64 h-64 object-contain">
            </div>
        </div>
    </div>
</footer>

<script>
    
    const backToTopButton = document.getElementById('back-to-top');
    
    
    window.addEventListener('scroll', function() {
        if (window.scrollY > 300) {
            backToTopButton.classList.remove('opacity-0', 'invisible');
            backToTopButton.classList.add('opacity-100', 'visible');
        } else {
            backToTopButton.classList.add('opacity-0', 'invisible');
            backToTopButton.classList.remove('opacity-100', 'visible');
        }
    });
    
    
    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    
    
    document.getElementById('wechat-btn').addEventListener('click', function() {
        document.getElementById('wechat-modal').classList.remove('hidden');
    });
    
    
    document.getElementById('wechat-btn').addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            document.getElementById('wechat-modal').classList.remove('hidden');
        }
    });
</script> 
    </div>
    
    
    <script>
        
        if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
    
    
    <script src="/js/code-highlight.js"></script>
    
    
    <script src="/js/advanced-render.js"></script>
    
    <div id="site-search-modal" class="fixed inset-0 z-50 flex items-center justify-center hidden opacity-0 transition-opacity duration-300">
    
    <div id="site-search-backdrop" class="absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>
    
    
    <div class="relative bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-xl shadow-xl max-w-lg w-full mx-4 z-10 transform transition-all duration-300 scale-95 opacity-0 border border-gray-100 dark:border-gray-700">
        <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-medium flex items-center">
                <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-1.5 rounded text-white mr-2 shadow-sm">
                    <iconify-icon icon="mdi:magnify" width="16" height="16"></iconify-icon>
                </div>
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-indigo-600">ç«™å†…æœç´¢</span>
            </h3>
            <button id="site-search-close" class="text-gray-400 hover:text-gray-500 focus:outline-none transition-colors duration-200 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full">
                <iconify-icon icon="mdi:close" width="20" height="20"></iconify-icon>
            </button>
        </div>
        
        <div class="p-6">
            <form id="site-search-form" action="/search/" method="get">
                <div class="relative">
                    <div class="flex items-center border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-blue-500 transition-all duration-300 shadow-sm hover:shadow-md">
                        <span class="pl-4 text-gray-400">
                            <iconify-icon icon="mdi:magnify" width="20" height="20"></iconify-icon>
                        </span>
                        <input 
                            type="text" 
                            id="site-search-input" 
                            name="q" 
                            placeholder="è¾“å…¥å…³é”®è¯æœç´¢..."
                            class="w-full px-3 py-3 border-none focus:outline-none bg-transparent text-gray-800 dark:text-gray-200"
                            aria-label="æœç´¢å†…å®¹"
                            tabindex="0"
                        >
                        <button 
                            type="submit"
                            class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-3 hover:shadow-md transition-all duration-300 flex items-center"
                            aria-label="æœç´¢"
                            tabindex="0">
                            <span class="mr-1 hidden sm:inline">æœç´¢</span>
                            <iconify-icon icon="mdi:arrow-right" width="18" height="18"></iconify-icon>
                        </button>
                    </div>
                </div>
            </form>
            
            <div class="mt-6 text-sm text-gray-500 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800/30 flex items-start">
                <div class="bg-blue-100 dark:bg-blue-800/50 p-1.5 rounded-full mr-3 mt-0.5">
                    <iconify-icon icon="mdi:information" width="16" height="16" class="text-blue-500 dark:text-blue-300"></iconify-icon>
                </div>
                <div>
                    <p class="mb-1">å¿«æ·é”®æç¤º:</p>
                    <ul class="space-y-1">
                        <li class="flex items-center">
                            <span class="bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-xs font-mono mr-2">/</span>
                            <span>æ‰“å¼€æœç´¢</span>
                        </li>
                        <li class="flex items-center">
                            <span class="bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-xs font-mono mr-2">Esc</span>
                            <span>å…³é—­æœç´¢</span>
                        </li>
                        <li class="flex items-center">
                            <span class="bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-xs font-mono mr-2">Enter</span>
                            <span>æäº¤æœç´¢</span>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-6 pt-6 border-t border-gray-200 dark:border-gray-700">
                <div class="flex flex-wrap gap-2">
                    <a href="/tags/" class="bg-gradient-to-r hover:bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-lg text-sm border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md flex items-center">
                        <iconify-icon icon="mdi:tag-multiple" class="mr-1" width="16" height="16"></iconify-icon>
                        æ ‡ç­¾
                    </a>
                    <a href="/categories/" class="bg-gradient-to-r hover:bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-lg text-sm border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md flex items-center">
                        <iconify-icon icon="mdi:folder-multiple" class="mr-1" width="16" height="16"></iconify-icon>
                        åˆ†ç±»
                    </a>
                    <a href="/archives/" class="bg-gradient-to-r hover:bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 text-gray-700 dark:text-gray-300 px-3 py-1.5 rounded-lg text-sm border border-gray-200 dark:border-gray-700 hover:border-blue-300 dark:hover:border-blue-700 transition-all duration-300 transform hover:-translate-y-1 hover:shadow-md flex items-center">
                        <iconify-icon icon="mdi:archive" class="mr-1" width="16" height="16"></iconify-icon>
                        å½’æ¡£
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const modal = document.getElementById('site-search-modal');
        const modalContent = modal.querySelector('div[class*="rounded-xl"]');
        const backdrop = document.getElementById('site-search-backdrop');
        const closeButton = document.getElementById('site-search-close');
        const searchForm = document.getElementById('site-search-form');
        const searchInput = document.getElementById('site-search-input');
        
        
        window.openSiteSearch = function() {
            modal.classList.remove('hidden');
            document.body.classList.add('overflow-hidden');
            
            
            setTimeout(() => {
                modal.classList.add('opacity-100');
                modalContent.classList.remove('scale-95', 'opacity-0');
                modalContent.classList.add('scale-100', 'opacity-100');
                searchInput.focus();
            }, 10);
        };
        
        
        function closeSiteSearch() {
            
            modal.classList.remove('opacity-100');
            modalContent.classList.remove('scale-100', 'opacity-100');
            modalContent.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.classList.remove('overflow-hidden');
            }, 300);
        }
        
        
        if (backdrop) {
            backdrop.addEventListener('click', closeSiteSearch);
        }
        
        
        if (closeButton) {
            closeButton.addEventListener('click', closeSiteSearch);
        }
        
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeSiteSearch();
            }
            
            
            if (e.key === '/' && modal.classList.contains('hidden') && document.activeElement.tagName !== 'INPUT') {
                e.preventDefault();
                openSiteSearch();
            }
        });
        
        
        modalContent.addEventListener('click', (e) => {
            e.stopPropagation();
        });
    });
</script> 
</body>
</html> 